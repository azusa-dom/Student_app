import{c as p,b as U,d as B,e as oe,j as e,f as H,g as W,h as de,a as xe,r as N,A as me,R as he,i as ue,k as L,N as ee}from"./index-CwnOy6r1.js";/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=p("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=p("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=p("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=p("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=p("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=p("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=p("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=p("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=p("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=p("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=p("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=p("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=p("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=p("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=p("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=p("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=p("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=p("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=p("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=p("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=p("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=p("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=p("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=p("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=p("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=p("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=p("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=p("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=p("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=p("Rows3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=p("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=p("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=p("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=p("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=p("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=p("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=p("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=p("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=p("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=p("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=p("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),_e=({onNavigate:s})=>{const{t:l,language:x}=U(),{getThemeConfig:i}=B(),{grades:g,events:d}=oe(),h=i(),D=[{id:"project-yoga",icon:R,title:l("activities.projectYoga"),subtitle:l("activities.healthWellness"),time:"17:00 - 18:00",location:l("activities.sportsCenter"),attendees:l("activities.participants",{count:"25/30"}),status:"upcoming",bgColor:"bg-green-50",iconColor:"text-green-600",action:()=>s("/student/calendar")}],k=[{id:"assignments",number:"2",label:l("overview.dueToday"),color:"text-blue-600",bgColor:"bg-blue-50",action:()=>s("/student/grades")},{id:"schedule",number:"1",label:l("overview.classes"),color:"text-orange-600",bgColor:"bg-orange-50",action:()=>s("/student/calendar")},{id:"activities",number:"3",label:l("overview.activities"),color:"text-green-600",bgColor:"bg-green-50",action:()=>s("/student/calendar")}],r=[{id:"advanced-stats",icon:P,title:l("cards.advancedStats"),code:"STAT7001",date:l("cards.date_example_1",{date:"8月28日 20:27"}),location:l("cards.location_example",{location:"Room 301, Math Building"}),instructor:"Prof. Smith",actions:[{label:"加入日历",primary:!0,action:()=>s("/student/calendar")},{label:"标记完成",primary:!1}]},{id:"ml-coursework",icon:R,title:l("cards.mlCoursework"),code:"CS7012",status:l("cards.due_in_days",{days:1}),statusColor:"text-red-600",actions:[{label:"加入日历",primary:!0,action:()=>s("/student/calendar")},{label:"打开Moodle",primary:!1},{label:"标记完成",primary:!1}]},{id:"library-maintenance",icon:F,title:l("cards.libraryMaintenance"),date:l("cards.date_example_2",{date:"8月29日 18:27"}),actions:[{label:"加入日历",primary:!0,action:()=>s("/student/calendar")},{label:"标记完成",primary:!1}]}],b=[{id:"moodle",icon:P,label:l("quick.moodle"),color:"text-blue-600",action:()=>window.open("https://moodle.ucl.ac.uk","_blank")},{id:"grades",icon:P,label:l("quick.viewGrades"),color:"text-green-600",action:()=>s("/student/grades")},{id:"grades-info",icon:P,label:l("quick.viewGrades"),color:"text-purple-600",action:()=>s("/student/grades")}],v=[{code:"STAT7001",name:"Midterm Exam",score:"85%"},{code:"CS7012",name:"Project 1",score:"92%"},{code:"MATH7003",name:"Essay",score:"78%"}];return e.jsxs("div",{className:"space-y-6",children:[D.map(a=>e.jsxs("div",{className:`${a.bgColor} rounded-2xl p-4 cursor-pointer hover:shadow-md transition-all duration-200`,onClick:a.action,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-10 h-10 ${a.bgColor} rounded-xl flex items-center justify-center`,children:e.jsx(a.icon,{className:`w-5 h-5 ${a.iconColor}`})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:a.title}),e.jsx("p",{className:"text-gray-600 text-xs",children:a.subtitle})]})]}),e.jsx("button",{onClick:w=>{w.stopPropagation(),a.action()},className:"px-3 py-1.5 bg-white text-green-600 rounded-lg text-xs font-medium hover:shadow-sm transition-all duration-200",children:"报名参加"})]}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-600",children:[e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(R,{className:"w-3 h-3"}),e.jsx("span",{children:a.time})]}),e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(F,{className:"w-3 h-3"}),e.jsx("span",{children:a.location})]}),e.jsx("span",{children:a.attendees})]})]},a.id)),e.jsxs("div",{children:[e.jsxs("h4",{className:`font-semibold ${h.text} mb-3 flex items-center space-x-2`,children:[e.jsx(_,{className:"w-4 h-4"}),e.jsx("span",{children:l("overview.title")})]}),e.jsx("p",{className:`${h.textSecondary} text-sm mb-4`,children:l("home.description",{count:4})}),e.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4",children:k.map(a=>e.jsxs("div",{className:`${a.bgColor} rounded-xl p-3 text-center cursor-pointer hover:shadow-md transition-all duration-200`,onClick:a.action,children:[e.jsx("div",{className:`text-xl font-bold ${a.color}`,children:a.number}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:a.label})]},a.id))}),e.jsx("div",{className:"flex items-center space-x-2 mb-4",children:b.map(a=>e.jsxs("button",{onClick:a.action,className:"flex items-center space-x-1 px-3 py-2 bg-white rounded-lg border border-gray-200 hover:shadow-sm transition-all duration-200 text-xs",children:[e.jsx(a.icon,{className:`w-3 h-3 ${a.color}`}),e.jsx("span",{className:a.color,children:a.label})]},a.id))})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:`font-semibold ${h.text} mb-3 flex items-center space-x-2`,children:[e.jsx(P,{className:"w-4 h-4"}),e.jsx("span",{children:l("home.smartCards")})]}),e.jsx("div",{className:"space-y-3",children:r.map(a=>e.jsx("div",{className:`${h.card} rounded-xl p-4 border border-white/20`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(a.icon,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:`font-medium ${h.text} text-sm mb-1`,children:a.title}),a.code&&e.jsx("p",{className:`${h.textSecondary} text-xs mb-1`,children:a.code}),a.date&&e.jsxs("p",{className:`${h.textSecondary} text-xs mb-2 flex items-center space-x-1`,children:[e.jsx(_,{className:"w-3 h-3"}),e.jsx("span",{children:a.date})]}),a.location&&e.jsxs("p",{className:`${h.textSecondary} text-xs mb-2 flex items-center space-x-1`,children:[e.jsx(F,{className:"w-3 h-3"}),e.jsx("span",{children:a.location})]}),a.instructor&&e.jsxs("p",{className:`${h.textSecondary} text-xs mb-2`,children:[l("cards.instructor"),": ",a.instructor]}),a.status&&e.jsx("p",{className:`text-xs mb-2 ${a.statusColor}`,children:a.status}),e.jsx("div",{className:"flex items-center space-x-2",children:a.actions.map((w,y)=>e.jsx("button",{onClick:w.action,className:`px-3 py-1 rounded-lg text-xs font-medium transition-all duration-200 ${w.primary?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:w.label},y))})]})]})},a.id))})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:`font-semibold ${h.text} mb-3 flex items-center space-x-2`,children:[e.jsx(q,{className:"w-4 h-4"}),e.jsx("span",{children:l("home.newGrades")})]}),e.jsx("div",{className:"space-y-2",children:v.map((a,w)=>e.jsxs("div",{className:`${h.card} rounded-lg p-3 border border-white/20 flex items-center justify-between cursor-pointer hover:shadow-md transition-all duration-200`,onClick:()=>s("/student/grades"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(q,{className:"w-4 h-4 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${h.text} text-sm`,children:a.code}),e.jsx("p",{className:`${h.textSecondary} text-xs`,children:a.name})]})]}),e.jsx("div",{className:"text-green-600 font-bold text-sm",children:a.score})]},w))})]})]})},ze=({children:s})=>{const{grades:l}=H(),{t:x,language:i,changeLanguage:g}=U(),{getThemeConfig:d,getBackgroundClass:h}=B(),{userData:D,getInitials:k}=W(),r=de(),b=xe(),[v,a]=N.useState(new Date);N.useEffect(()=>{const j=setInterval(()=>a(new Date),1e3);return()=>clearInterval(j)},[]);const w=N.useMemo(()=>r.pathname.split("/").pop()||"home",[r.pathname]),y=d(),f=h(),S=N.useMemo(()=>[{id:"home",icon:Ce,label:x("nav.home"),path:"/student/home"},{id:"mail",icon:ne,label:x("nav.mail"),badge:!0,path:"/student/mail"},{id:"grades",icon:q,label:x("nav.grades"),badge:l.length>0,path:"/student/grades"},{id:"campus",icon:F,label:x("nav.campus"),path:"/student/campus"},{id:"jobs",icon:te,label:x("nav.jobs"),path:"/student/jobs"},{id:"ai",icon:se,label:x("ai.title"),path:"/student/ai"},{id:"settings",icon:Z,label:x("nav.settings"),path:"/student/settings"}],[l.length,x]),t=j=>{b(j.path)},C=w==="home";return e.jsxs("div",{className:`min-h-screen ${f} pb-20`,children:[e.jsx("header",{className:`backdrop-blur-2xl ${y.navigation} border-b`,children:e.jsx("div",{className:"max-w-4xl mx-auto px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl overflow-hidden shadow-sm border-2 border-white/20",children:D.avatar?e.jsx("img",{src:D.avatar,alt:"用户头像",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold text-sm",children:k()})})}),e.jsxs("div",{children:[e.jsxs("h2",{className:`font-semibold ${y.text} text-lg`,children:[D.name," - UCL"]}),e.jsxs("p",{className:`${y.textSecondary} text-sm flex items-center`,children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 mr-2"}),v.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})," ",x("user.status")]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>g(i==="zh"?"en":"zh"),className:`p-2 ${y.card} rounded-lg border border-white/20 ${y.cardHover} transition-all duration-200 flex items-center space-x-1`,title:i==="zh"?"Switch to English":"切换到中文",children:[e.jsx(le,{className:`w-4 h-4 ${y.text}`}),e.jsx("span",{className:`text-xs font-medium ${y.text}`,children:i==="zh"?"EN":"中"})]}),e.jsx("button",{className:`p-2 ${y.card} rounded-lg border border-white/20 ${y.cardHover} transition-all duration-200`,children:e.jsx(V,{className:`w-5 h-5 ${y.text}`})})]})]})})}),C&&e.jsx("div",{className:"max-w-4xl mx-auto px-6 py-4",children:e.jsx("div",{className:`${y.card} rounded-2xl p-4 border border-white/20`,children:e.jsx(_e,{onNavigate:b})})}),e.jsx("main",{className:"max-w-4xl mx-auto px-6 py-2",children:s}),e.jsx("nav",{className:`fixed bottom-0 left-0 right-0 backdrop-blur-2xl ${y.navigation} border-t shadow-lg`,children:e.jsx("div",{className:"max-w-4xl mx-auto px-2 py-2",children:e.jsx("div",{className:"grid grid-cols-7 gap-1",children:S.map(j=>{const A=j.icon,M=w===j.id;return e.jsxs("button",{onClick:()=>t(j),className:`
                    flex flex-col items-center py-2 px-1 rounded-lg transition-all duration-200
                    ${M?`${y.button} shadow-md`:`${y.textSecondary} ${y.cardHover}`}
                  `,children:[e.jsxs("div",{className:"relative",children:[e.jsx(A,{className:"w-4 h-4"}),j.badge&&e.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full"})]}),e.jsx("span",{className:"text-xs mt-1 font-medium leading-tight",children:j.label})]},j.id)})})})}),e.jsx("button",{onClick:()=>b("/student/calendar"),className:`fixed bottom-24 right-6 w-12 h-12 ${y.button} rounded-xl shadow-lg hover:scale-105 transition-all duration-200 flex items-center justify-center`,title:"添加新事件",children:e.jsx(Q,{className:"w-5 h-5"})})]})},Pe=s=>{const l=new Date,i=new Date(s).getTime()-l.getTime();if(i<0)return"已过期";const g=Math.floor(i/(1e3*60*60)),d=Math.floor(g/24);return d>0?`${d}天后`:g>0?`${g}小时后`:"即将到期"},Re=s=>({class_event:P,assignment_due:R,system_notice:V,activity:_,recruitment:te})[s]||_,Ue=s=>({class_event:"from-blue-500 to-indigo-600",assignment_due:"from-red-500 to-pink-600",system_notice:"from-amber-500 to-orange-600",activity:"from-green-500 to-emerald-600",recruitment:"from-purple-500 to-violet-600"})[s]||"from-blue-500 to-indigo-600",He=({event:s})=>{var k,r,b;const l=Re(s.type),[x,i]=N.useState(s.status==="completed"),[g,d]=N.useState(!1),{getThemeConfig:h}=B(),D=h();return e.jsxs("div",{className:`relative group ${x?"opacity-75":""}`,children:[e.jsx("div",{className:`absolute inset-0 rounded-3xl shadow-xl group-hover:shadow-2xl transition-all duration-300 ${D.card}`}),e.jsxs("div",{className:"relative p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsxs("div",{className:`relative group w-14 h-14 rounded-2xl bg-gradient-to-tr shadow-lg ${Ue(s.type)} flex items-center justify-center flex-shrink-0 transition-transform duration-300 group-hover:scale-110`,children:[e.jsx("div",{className:"absolute inset-0 rounded-2xl bg-white opacity-20 group-hover:opacity-30 transition-opacity"}),e.jsx(l,{className:"w-7 h-7 text-white transition-transform group-hover:scale-110"})]}),e.jsxs("div",{className:"flex-1 pt-1",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2 leading-tight",children:s.title&&typeof s.title=="object"?((k=s.title)==null?void 0:k[s.language||"zh"])||((r=s.title)==null?void 0:r.zh)||((b=s.title)==null?void 0:b.en):s.title}),s.course&&e.jsx("span",{className:"inline-block px-4 py-1 text-sm font-medium bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-600 rounded-full shadow-sm",children:s.course})]})]}),s.confidence<.8&&e.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1.5 bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl group-hover:shadow-md transition-shadow",children:[e.jsx(me,{className:"w-4 h-4 text-amber-500"}),e.jsx("span",{className:"text-xs font-medium text-amber-600",children:"需确认"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[s.due_at&&e.jsxs("div",{className:"col-span-2 flex items-center space-x-2 p-3 rounded-xl bg-red-50/50 group-hover:bg-red-50 transition-colors",children:[e.jsx(R,{className:"w-5 h-5 text-red-500"}),e.jsxs("span",{className:"font-medium text-red-600",children:["截止: ",Pe(s.due_at)]})]}),s.start_at&&e.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-xl bg-blue-50/50 group-hover:bg-blue-50 transition-colors",children:[e.jsx(_,{className:"w-5 h-5 text-blue-500"}),e.jsx("span",{className:"text-sm text-blue-600",children:new Date(s.start_at).toLocaleDateString("zh-CN",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),s.location&&e.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-xl bg-purple-50/50 group-hover:bg-purple-50 transition-colors",children:[e.jsx(K,{className:"w-5 h-5 text-purple-500"}),e.jsx("span",{className:"text-sm text-purple-600",children:s.location})]}),s.teacher&&e.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-xl bg-emerald-50/50 group-hover:bg-emerald-50 transition-colors",children:[e.jsx(X,{className:"w-5 h-5 text-emerald-500"}),e.jsx("span",{className:"text-sm text-emerald-600",children:s.teacher})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("button",{onClick:()=>{if(g)d(!1);else{const v=s.start_at?new Date(s.start_at):new Date,a=s.due_at?new Date(s.due_at):new Date(v.getTime()+60*60*1e3),w=C=>C.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",y=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//Student App//Calendar Event//EN","BEGIN:VEVENT",`DTSTART:${w(v)}`,`DTEND:${w(a)}`,`SUMMARY:${s.title}`,`DESCRIPTION:${s.course?`课程: ${s.course}\\n`:""}${s.teacher?`教师: ${s.teacher}\\n`:""}${s.location?`地点: ${s.location}`:""}`,`LOCATION:${s.location||""}`,`UID:${s.id||Date.now()}@studentapp.com`,"END:VEVENT","END:VCALENDAR"].join(`\r
`),f=new Blob([y],{type:"text/calendar;charset=utf-8"}),S=document.createElement("a");S.href=window.URL.createObjectURL(f),S.download=`${(s.title||"event").replace(/[^a-zA-Z0-9\u4e00-\u9fa5]/g,"_")}.ics`,document.body.appendChild(S),S.click(),document.body.removeChild(S),window.URL.revokeObjectURL(S.href),d(!0);const t=document.createElement("div");t.className="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 animate-pulse",t.textContent="日历事件已下载，请导入到您的日历应用",document.body.appendChild(t),setTimeout(()=>{document.body.removeChild(t)},3e3)}},className:`
              flex items-center space-x-2 px-5 py-2.5 rounded-xl font-medium text-sm transition-all duration-300
              ${g?"bg-gradient-to-r from-emerald-50 to-green-50 text-emerald-600 shadow-sm shadow-emerald-100":"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-500/25 hover:shadow-xl hover:shadow-blue-500/30 hover:-translate-y-0.5"}
            `,children:[e.jsx(_,{className:"w-4 h-4"}),e.jsx("span",{children:g?"已加入":"加入日历"})]}),s.link&&e.jsxs("button",{onClick:()=>window.open(s.link,"_blank"),className:"flex items-center space-x-2 px-5 py-2.5 rounded-xl font-medium text-sm bg-gradient-to-r from-gray-50 to-gray-100 text-gray-700 shadow-sm hover:shadow-md hover:-translate-y-0.5 transition-all duration-300",children:[e.jsx(J,{className:"w-4 h-4"}),e.jsx("span",{children:"打开Moodle"})]}),e.jsxs("button",{onClick:()=>i(!x),className:`
              flex items-center space-x-2 px-5 py-2.5 rounded-xl font-medium text-sm transition-all duration-300
              ${x?"bg-gradient-to-r from-emerald-50 to-green-50 text-emerald-600 shadow-sm shadow-emerald-100":"bg-gradient-to-r from-emerald-50 to-emerald-100 text-emerald-600 shadow-sm hover:shadow-md hover:-translate-y-0.5"}
            `,children:[e.jsx(Y,{className:"w-4 h-4"}),e.jsx("span",{children:x?"已完成":"标记完成"})]})]})]})]})},Oe=()=>{const{events:s,grades:l,setStudentTab:x}=H(),i=s.filter(d=>d.type==="class_event"&&new Date(d.start_at).toDateString()===new Date().toDateString()).length,g=s.filter(d=>d.type==="assignment_due"&&new Date(d.due_at)>new Date).length;return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2 text-gray-900",children:"今日概览"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["你今天有 ",s.length," 个重要事项需要关注"]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center border border-blue-100",children:[e.jsx("div",{className:"text-3xl font-bold mb-1 text-blue-600",children:i}),e.jsx("div",{className:"text-sm text-blue-700",children:"今日课程"})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 text-center border border-orange-100",children:[e.jsx("div",{className:"text-3xl font-bold mb-1 text-orange-600",children:g}),e.jsx("div",{className:"text-sm text-orange-700",children:"待交作业"})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center border border-green-100",children:[e.jsx("div",{className:"text-3xl font-bold mb-1 text-green-600",children:l.length}),e.jsx("div",{className:"text-sm text-green-700",children:"新成绩"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"智能卡片流"}),s.map(d=>e.jsx(He,{event:d},d.id))]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl shadow-gray-200/50 group-hover:shadow-2xl group-hover:shadow-gray-300/50 transition-all duration-300"}),e.jsxs("div",{className:"relative p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"快速操作"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>window.open("https://moodle.ucl.ac.uk/","_blank"),className:"w-full flex items-center space-x-3 p-4 rounded-xl bg-gradient-to-r from-blue-50 to-blue-100/50 hover:from-blue-100 hover:to-blue-200/50 transition-all duration-300 group",children:[e.jsx(J,{className:"w-5 h-5 text-blue-600 group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"font-medium",children:"打开Moodle"})]}),e.jsxs("button",{onClick:()=>x&&x("calendar"),className:"w-full flex items-center space-x-3 p-4 rounded-xl bg-gradient-to-r from-green-50 to-green-100/50 hover:from-green-100 hover:to-green-200/50 transition-all duration-300 group",children:[e.jsx(_,{className:"w-5 h-5 text-green-600 group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"font-medium",children:"查看课程表"})]}),e.jsxs("button",{onClick:()=>x&&x("grades"),className:"w-full flex items-center space-x-3 p-4 rounded-xl bg-gradient-to-r from-purple-50 to-purple-100/50 hover:from-purple-100 hover:to-purple-200/50 transition-all duration-300 group",children:[e.jsx(q,{className:"w-5 h-5 text-purple-600 group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"font-medium",children:"查看成绩"})]})]})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl shadow-gray-200/50 group-hover:shadow-2xl group-hover:shadow-gray-300/50 transition-all duration-300"}),e.jsxs("div",{className:"relative p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"最新成绩"}),e.jsx("div",{className:"space-y-3",children:l.slice(0,3).map((d,h)=>e.jsxs("div",{className:"group flex justify-between items-center p-4 rounded-xl bg-gradient-to-r from-gray-50 to-gray-100/50 hover:from-gray-100 hover:to-gray-200/50 transition-all duration-300",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:d.course}),e.jsx("div",{className:"text-sm text-gray-600",children:d.assignment})]}),e.jsx("div",{className:"text-lg font-bold text-emerald-600 group-hover:scale-110 transition-transform",children:d.grade})]},h))})]})]})]})]})},Ge=()=>{const{grades:s,addGrade:l}=H();return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"relative group mb-8",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-emerald-600 to-green-500 rounded-3xl blur-xl opacity-20 group-hover:opacity-30 transition-opacity"}),e.jsxs("div",{className:"relative bg-gradient-to-tr from-emerald-600 via-green-500 to-teal-400 rounded-3xl p-8 text-white overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white opacity-5 rounded-full -translate-y-32 translate-x-32"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white opacity-5 rounded-full translate-y-24 -translate-x-24"}),e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold mb-2",children:"成绩管理"}),e.jsxs("p",{className:"text-emerald-100 text-lg",children:["本学期已更新 ",s.length," 门课程成绩"]})]}),e.jsx("button",{onClick:()=>{const x=prompt("课程名称");if(!x)return;const i=prompt("作业/考试名称"),g=prompt("成绩（例如 85 或 A）");l({course:x,assignment:i||"Assessment",grade:g||"N/A",date:new Date().toLocaleDateString("zh-CN")})},className:"relative group px-6 py-3 bg-white/10 hover:bg-white/20 rounded-2xl backdrop-blur-lg transition-all duration-300",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Q,{className:"w-5 h-5 text-white group-hover:rotate-180 transition-transform duration-500"}),e.jsx("span",{className:"font-medium text-white",children:"手动添加"})]})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-black/5 rounded-2xl backdrop-blur-lg group-hover:bg-black/10 transition-colors"}),e.jsxs("div",{className:"relative p-4 text-center",children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:"3.8"}),e.jsx("div",{className:"text-sm text-emerald-100",children:"平均GPA"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-black/5 rounded-2xl backdrop-blur-lg group-hover:bg-black/10 transition-colors"}),e.jsxs("div",{className:"relative p-4 text-center",children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:"85%"}),e.jsx("div",{className:"text-sm text-emerald-100",children:"及格率"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-black/5 rounded-2xl backdrop-blur-lg group-hover:bg-black/10 transition-colors"}),e.jsxs("div",{className:"relative p-4 text-center",children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:"92"}),e.jsx("div",{className:"text-sm text-emerald-100",children:"最高分"})]})]})]})]})]}),e.jsx("div",{className:"grid gap-4",children:s.map((x,i)=>e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl shadow-gray-200/50 group-hover:shadow-2xl group-hover:shadow-gray-300/50 transition-all duration-300"}),e.jsxs("div",{className:"relative p-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-5",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-emerald-500 to-green-400 rounded-2xl blur-lg opacity-40 group-hover:opacity-60 transition-opacity"}),e.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-tr from-emerald-500 to-green-400 rounded-2xl flex items-center justify-center shadow-lg shadow-emerald-500/20",children:e.jsx(q,{className:"w-8 h-8 text-white transform group-hover:scale-110 transition-transform"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:x.course}),e.jsx("p",{className:"text-base text-gray-600 mb-1",children:x.assignment}),e.jsx("p",{className:"text-sm text-gray-500",children:x.date})]})]}),e.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-emerald-600 to-green-500 bg-clip-text text-transparent transform group-hover:scale-110 transition-transform",children:x.grade})]})]},i))})]})},qe=()=>{const[s,l]=N.useState("services"),[x,i]=N.useState(""),g=r=>{l(r)},d=()=>{},h=[{id:"jobs",icon:"💼",title:"工作与实习机会",description:"探索全球顶尖企业的工作和实习机会，找到完美的职业起点",primaryUrl:"https://www.ucl.ac.uk/careers/opportunities",primaryText:"🚀 浏览所有机会",subLinks:[{name:"工作与实习",url:"https://www.ucl.ac.uk/careers/opportunities/jobs-and-internships"},{name:"毕业生职位",url:"https://www.ucl.ac.uk/careers/opportunities/graduate-jobs"},{name:"实习项目",url:"https://www.ucl.ac.uk/careers/opportunities/internships"},{name:"兼职工作",url:"https://www.ucl.ac.uk/careers/opportunities/part-time-jobs"},{name:"虚拟工作体验",url:"https://www.ucl.ac.uk/careers/simulated-work-experience"},{name:"海外工作",url:"https://www.ucl.ac.uk/careers/work-abroad"}]},{id:"applications",icon:"📝",title:"申请材料准备",description:"专业的简历、求职信指导，让你的申请材料脱颖而出",primaryUrl:"https://www.ucl.ac.uk/careers/applications-and-interviews",primaryText:"✍️ 申请指导中心",subLinks:[{name:"简历制作",url:"https://www.ucl.ac.uk/careers/applications-and-interviews/cvs-and-applications"},{name:"求职信写作",url:"https://www.ucl.ac.uk/careers/applications-and-interviews/cover-letters"},{name:"申请表填写",url:"https://www.ucl.ac.uk/careers/applications-and-interviews/application-forms"},{name:"LinkedIn优化",url:"https://www.ucl.ac.uk/careers/applications-and-interviews/linkedin"},{name:"简历自动检查",url:"https://www.ucl.ac.uk/careers/applying/applications"}]},{id:"interviews",icon:"🎯",title:"面试与评估",description:"全面的面试技巧训练和评估中心准备，提升面试成功率",primaryUrl:"https://www.ucl.ac.uk/careers/applications-and-interviews/interviews",primaryText:"💪 面试训练营",subLinks:[{name:"面试准备",url:"https://www.ucl.ac.uk/careers/applications-and-interviews/interviews/interview-preparation"},{name:"评估中心",url:"https://www.ucl.ac.uk/careers/applications-and-interviews/interviews/assessment-centres"},{name:"视频面试",url:"https://www.ucl.ac.uk/careers/applications-and-interviews/interviews/video-interviews"},{name:"在线面试练习",url:"https://www.ucl.ac.uk/careers/applying/interviews"},{name:"技能评估测试",url:"https://www.ucl.ac.uk/careers/skills"}]},{id:"guidance",icon:"👥",title:"一对一职业指导",description:"预约专业的职业顾问，获得个性化的职业发展建议",primaryUrl:"https://www.ucl.ac.uk/careers/advice",primaryText:"📅 预约咨询",subLinks:[{name:"预约系统",url:"https://www.ucl.ac.uk/careers/about-us/appointments"},{name:"职业建议",url:"https://www.ucl.ac.uk/careers/about-us/careers-advice"},{name:"个人门户",url:"https://www.ucl.ac.uk/careers/myuclcareers"},{name:"职业选择",url:"https://www.ucl.ac.uk/careers/options"}]}],D=[{id:"spring-fair",icon:"🏢",title:"春季职业博览会",date:"2024年3月15日",location:"UCL主校区",time:"10:00-16:00",companies:["Google","Microsoft","Goldman Sachs","BCG","+50家企业"],registrationUrl:"https://www.ucl.ac.uk/careers/fairs",detailsUrl:"https://www.ucl.ac.uk/careers/fairs"},{id:"tech-insight",icon:"🎓",title:"技术行业洞察日",date:"2024年3月22日",location:"在线活动",time:"14:00-17:00",companies:["AI/ML","区块链","云计算","数据科学"],registrationUrl:"https://www.ucl.ac.uk/careers/sector-insight-events",detailsUrl:"https://www.ucl.ac.uk/careers/sector-insight-events"}],k=[{id:"skills",icon:"🧠",title:"技能发展中心",description:"提升核心技能，增强就业竞争力",primaryUrl:"https://www.ucl.ac.uk/careers/resources",primaryText:"📚 技能提升",subLinks:[{name:"技能发展",url:"https://www.ucl.ac.uk/careers/resources/skills-development"},{name:"职业规划",url:"https://www.ucl.ac.uk/careers/resources/career-planning"},{name:"社团活动",url:"https://studentsunionucl.org/clubs-societies"},{name:"志愿服务",url:"https://studentsunionucl.org/volunteering"}]},{id:"industry",icon:"🏭",title:"行业深度解析",description:"深入了解各行业发展趋势和就业前景",primaryUrl:"https://www.ucl.ac.uk/careers/industry-insights",primaryText:"🔍 行业分析",subLinks:[{name:"金融服务",url:"https://www.ucl.ac.uk/careers/sectors/financial-services"},{name:"科技行业",url:"https://www.ucl.ac.uk/careers/sectors/technology"},{name:"医疗健康",url:"https://www.ucl.ac.uk/careers/sectors/healthcare"},{name:"咨询服务",url:"https://www.ucl.ac.uk/careers/sectors/consulting"}]}];return e.jsx("div",{className:"career",children:e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"header animate-fade-in",children:e.jsxs("div",{className:"header-content",children:[e.jsx("h1",{children:"UCL 职业服务中心"}),e.jsx("p",{children:"全方位职业发展支持，助力你的未来职业之路"}),e.jsx("div",{className:"quick-stats",children:[{number:"500+",label:"合作雇主"},{number:"95%",label:"就业率"},{number:"1000+",label:"年度活动"},{number:"24/7",label:"在线支持"}].map((r,b)=>e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-number",children:r.number}),e.jsx("span",{className:"stat-label",children:r.label})]},b))})]})}),e.jsx("div",{className:"search-bar animate-fade-in",children:e.jsxs("div",{className:"search-input-group",children:[e.jsx("input",{type:"text",value:x,onChange:r=>i(r.target.value),placeholder:"搜索职位、公司、行业或技能...",className:"search-input"}),e.jsx("button",{onClick:d,className:"search-btn",children:"🔍 搜索机会"})]})}),e.jsx("div",{className:"tab-navigation animate-fade-in",children:[{id:"services",label:"核心服务"},{id:"events",label:"活动博览"},{id:"resources",label:"学习资源"},{id:"special",label:"专项支持"}].map(r=>e.jsx("button",{onClick:()=>g(r.id),className:`tab-btn ${s===r.id?"active":""}`,children:r.label},r.id))}),s==="services"&&e.jsx("div",{className:"services-grid",children:h.map(r=>e.jsxs("div",{className:"service-card animate-fade-in",children:[e.jsxs("div",{className:"service-header",children:[e.jsx("div",{className:"service-icon",children:r.icon}),e.jsxs("div",{className:"service-info",children:[e.jsx("h3",{children:r.title}),e.jsx("p",{children:r.description})]})]}),e.jsxs("div",{className:"service-links",children:[e.jsx("a",{href:r.primaryUrl,target:"_blank",rel:"noopener noreferrer",className:"primary-link",children:r.primaryText}),e.jsx("div",{className:"sub-links",children:r.subLinks.map((b,v)=>e.jsx("a",{href:b.url,target:"_blank",rel:"noopener noreferrer",className:"sub-link",children:b.name},v))})]})]},r.id))}),s==="events"&&e.jsx("div",{className:"events-grid",children:D.map(r=>e.jsxs("div",{className:"event-card animate-fade-in",children:[e.jsxs("div",{className:"event-header",children:[e.jsx("div",{className:"event-icon",children:r.icon}),e.jsxs("div",{className:"event-info",children:[e.jsx("h3",{children:r.title}),e.jsxs("div",{className:"event-meta",children:[e.jsxs("span",{children:["📅 ",r.date]}),e.jsxs("span",{children:["📍 ",r.location]}),e.jsxs("span",{children:["⏰ ",r.time]})]})]})]}),e.jsx("div",{className:"event-companies",children:r.companies.map((b,v)=>e.jsx("span",{className:"company-tag",children:b},v))}),e.jsxs("div",{className:"event-actions",children:[e.jsx("a",{href:r.registrationUrl,target:"_blank",rel:"noopener noreferrer",className:"btn btn-primary",children:"🎯 立即报名"}),e.jsx("a",{href:r.detailsUrl,target:"_blank",rel:"noopener noreferrer",className:"btn btn-secondary",children:"📋 查看详情"})]})]},r.id))}),s==="resources"&&e.jsx("div",{className:"services-grid",children:k.map(r=>e.jsxs("div",{className:"service-card animate-fade-in",children:[e.jsxs("div",{className:"service-header",children:[e.jsx("div",{className:"service-icon",children:r.icon}),e.jsxs("div",{className:"service-info",children:[e.jsx("h3",{children:r.title}),e.jsx("p",{children:r.description})]})]}),e.jsxs("div",{className:"service-links",children:[e.jsx("a",{href:r.primaryUrl,target:"_blank",rel:"noopener noreferrer",className:"primary-link",children:r.primaryText}),e.jsx("div",{className:"sub-links",children:r.subLinks.map((b,v)=>e.jsx("a",{href:b.url,target:"_blank",rel:"noopener noreferrer",className:"sub-link",children:b.name},v))})]})]},r.id))}),s==="special"&&e.jsxs("div",{className:"special-services animate-fade-in",children:[e.jsx("h2",{children:"专项支持服务"}),e.jsx("p",{className:"muted center sm",children:"我们为不同背景的学生提供量身定制的职业支持"}),e.jsx("div",{className:"special-grid",children:[{icon:"🌍",title:"国际学生支持",description:"签证、工作许可和文化适应指导"},{icon:"♿",title:"无障碍就业服务",description:"为有特殊需求的学生提供个性化支持"},{icon:"🎓",title:"研究生职业发展",description:"针对研究生和博士生的高级职业规划"},{icon:"💡",title:"创业孵化项目",description:"支持学生创业想法的孵化和实现"}].map((r,b)=>e.jsxs("div",{className:"special-item",children:[e.jsx("div",{className:"service-icon alt-green",children:r.icon}),e.jsx("h3",{children:r.title}),e.jsx("p",{className:"muted",children:r.description})]},b))})]})]})})},Be=()=>{const{getThemeConfig:s}=B(),l=s(),x=[{title:"Academic Registry",desc:"Transcripts, enrollment, records",icon:re,color:"blue"},{title:"Student Support",desc:"Counseling, financial aid",icon:G,color:"green"},{title:"Campus Map",desc:"Buildings, facilities, navigation",icon:K,color:"purple"},{title:"Events Calendar",desc:"Lectures, workshops, deadlines",icon:_,color:"orange"},{title:"Student Organizations",desc:"Clubs, societies, activities",icon:Le,color:"pink"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:`text-2xl font-light ${l.text}`,children:"Campus Services"}),e.jsx("div",{className:"grid gap-4",children:x.map((i,g)=>{const d=i.icon;return e.jsx("div",{className:`${l.card} rounded-xl p-6 border border-white/20 ${l.cardHover} cursor-pointer transition-all duration-200`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-12 h-12 bg-${i.color}-500/20 rounded-xl flex items-center justify-center`,children:e.jsx(d,{className:`w-6 h-6 text-${i.color}-400`})}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium ${l.text} mb-1`,children:i.title}),e.jsx("p",{className:`text-sm ${l.textSecondary}`,children:i.desc})]})]}),e.jsx(J,{className:`w-5 h-5 ${l.textMuted}`})]})},g)})}),e.jsxs("div",{className:`${l.card} rounded-xl p-6 border border-white/20`,children:[e.jsx("h3",{className:`text-lg font-medium ${l.text} mb-4`,children:"Quick Links"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:["Moodle","Library","Timetable","Grades","Email","WiFi"].map(i=>e.jsx("button",{className:`p-3 ${l.buttonSecondary} rounded-lg border border-white/20 text-sm font-medium transition-all duration-200`,children:i},i))})]})]})},Fe=()=>{const{t:s}=U(),{events:l,addEvent:x}=H(),[i,g]=N.useState(new Date),[d,h]=N.useState("month"),[D,k]=N.useState(new Date),[r,b]=N.useState(!1),[v,a]=N.useState({class_event:!0,assignment_due:!0,exam:!0,club_activity:!0}),w=()=>{const c=i.getFullYear(),n=i.getMonth(),m=new Date(c,n,1),$=new Date(c,n+1,0),o=m.getDay(),u=$.getDate(),I=[];for(let T=o-1;T>=0;T--){const E=new Date(c,n,-T);I.push({date:E,isCurrentMonth:!1})}for(let T=1;T<=u;T++){const E=new Date(c,n,T);I.push({date:E,isCurrentMonth:!0})}const z=42-I.length;for(let T=1;T<=z;T++){const E=new Date(c,n+1,T);I.push({date:E,isCurrentMonth:!1})}return I},y=()=>{const c=new Date(i);c.setDate(i.getDate()-i.getDay());const n=[];for(let m=0;m<7;m++){const $=new Date(c);$.setDate(c.getDate()+m),n.push($)}return n},f=c=>l.filter(n=>new Date(n.start_at||n.due_at).toDateString()===c.toDateString()&&v[n.type]),S=c=>({class_event:"bg-blue-500 text-white",assignment_due:"bg-red-500 text-white",exam:"bg-purple-500 text-white",club_activity:"bg-green-500 text-white"})[c]||"bg-gray-500 text-white",t=()=>{const c=w(),n=[s("calendar.weekdays.sun"),s("calendar.weekdays.mon"),s("calendar.weekdays.tue"),s("calendar.weekdays.wed"),s("calendar.weekdays.thu"),s("calendar.weekdays.fri"),s("calendar.weekdays.sat")];return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"grid grid-cols-7 border-b border-gray-200",children:n.map(m=>e.jsx("div",{className:"p-3 text-center text-sm font-medium text-gray-500 bg-gray-50",children:m},m))}),e.jsx("div",{className:"grid grid-cols-7",children:c.map(({date:m,isCurrentMonth:$},o)=>{const u=f(m),I=m.toDateString()===new Date().toDateString(),z=m.toDateString()===D.toDateString();return e.jsxs("div",{className:`min-h-[120px] border-r border-b border-gray-100 p-2 cursor-pointer hover:bg-gray-50 transition-colors ${$?"":"bg-gray-50/50 text-gray-400"}`,onClick:()=>{k(new Date(m)),h("day")},children:[e.jsx("div",{className:`text-sm font-medium mb-2 ${I?"bg-blue-600 text-white w-6 h-6 rounded-full flex items-center justify-center":z?"bg-blue-100 text-blue-600 w-6 h-6 rounded-full flex items-center justify-center":""}`,children:m.getDate()}),e.jsxs("div",{className:"space-y-1",children:[u.slice(0,3).map((T,E)=>e.jsx("div",{className:`text-xs px-1.5 py-0.5 rounded truncate ${S(T.type)}`,title:T.title&&typeof T.title=="object"?T.title[T.language||"zh"]||T.title.zh||T.title.en:T.title,children:T.title},E)),u.length>3&&e.jsx("div",{className:"text-xs text-gray-500",children:s("calendar.moreEvents",{count:u.length-3})})]})]},o)})})]})},C=()=>{const c=y(),n=Array.from({length:24},(m,$)=>$);return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"grid grid-cols-8 border-b border-gray-200",children:[e.jsx("div",{className:"p-3 bg-gray-50"}),c.map(m=>{const $=m.toDateString()===new Date().toDateString();return e.jsxs("div",{className:`p-3 text-center ${$?"bg-blue-50":"bg-gray-50"}`,children:[e.jsx("div",{className:"text-sm text-gray-500",children:m.toLocaleDateString("zh-CN",{weekday:"short"})}),e.jsx("div",{className:`text-lg font-semibold ${$?"text-blue-600":"text-gray-900"}`,children:m.getDate()})]},m.toISOString())})]}),e.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:e.jsxs("div",{className:"grid grid-cols-8",children:[e.jsx("div",{className:"border-r border-gray-200",children:n.map(m=>e.jsxs("div",{className:"h-16 border-b border-gray-100 p-2 text-xs text-gray-500",children:[m.toString().padStart(2,"0"),":00"]},m))}),c.map(m=>e.jsx("div",{className:"border-r border-gray-200",children:n.map($=>{const o=f(m).filter(u=>u.start_at?new Date(u.start_at).getHours()===$:!1);return e.jsx("div",{className:"h-16 border-b border-gray-100 p-1 relative",children:o.map((u,I)=>e.jsx("div",{className:`absolute left-1 right-1 top-1 bottom-1 rounded text-xs p-1 ${S(u.type)} truncate`,title:u.title,children:u.title},I))},$)})},m.toISOString()))]})})]})},j=()=>{const c=f(D).sort((n,m)=>{const $=new Date(n.start_at||n.due_at).getTime(),o=new Date(m.start_at||m.due_at).getTime();return $-o});return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:D.toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric",weekday:"long"})}),e.jsx("p",{className:"text-gray-600 mt-1",children:s("calendar.eventsCount",{count:c.length})})]}),e.jsx("div",{className:"space-y-3",children:c.length===0?e.jsxs("div",{className:"bg-white rounded-xl p-8 border border-gray-200 text-center",children:[e.jsx(_,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:s("calendar.noEventsToday")})]}):c.map((n,m)=>e.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:n.title}),n.course&&e.jsx("span",{className:`inline-block px-3 py-1 text-sm font-medium rounded-full ${S(n.type)}`,children:n.course}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[n.start_at&&e.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[e.jsx(R,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:new Date(n.start_at).toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"})})]}),n.location&&e.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[e.jsx(K,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:n.location})]}),n.teacher&&e.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[e.jsx(X,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:n.teacher})]})]})]})})},m))})]})},A=c=>{const n=new Date(i);d==="month"?n.setMonth(i.getMonth()+c):d==="week"?n.setDate(i.getDate()+c*7):n.setDate(i.getDate()+c),g(n),d==="day"&&k(n)},M=()=>{const c=new Date;g(c),k(c)},O=()=>{if(d==="month")return i.toLocaleDateString("zh-CN",{year:"numeric",month:"long"});if(d==="week"){const c=y(),n=c[0],m=c[6];return n.getMonth()===m.getMonth()?`${n.getFullYear()}年${n.getMonth()+1}月 ${n.getDate()}-${m.getDate()}日`:`${n.toLocaleDateString("zh-CN",{month:"short",day:"numeric"})} - ${m.toLocaleDateString("zh-CN",{month:"short",day:"numeric"})}`}else return D.toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"})};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:s("calendar.title")}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>A(-1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(ye,{className:"w-5 h-5 text-gray-600"})}),e.jsx("button",{onClick:M,className:"px-3 py-1 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:s("calendar.today")}),e.jsx("button",{onClick:()=>A(1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(ae,{className:"w-5 h-5 text-gray-600"})})]}),e.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:O()})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>b(!r),className:"flex items-center space-x-2 px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[e.jsx(Ne,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s("calendar.filter")})]}),e.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[e.jsxs("button",{onClick:()=>h("month"),className:`flex items-center space-x-1 px-3 py-1 rounded text-sm font-medium transition-colors ${d==="month"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(we,{className:"w-4 h-4"}),e.jsx("span",{children:s("calendar.month")})]}),e.jsxs("button",{onClick:()=>h("week"),className:`flex items-center space-x-1 px-3 py-1 rounded text-sm font-medium transition-colors ${d==="week"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(ve,{className:"w-4 h-4"}),e.jsx("span",{children:s("calendar.week")})]}),e.jsxs("button",{onClick:()=>h("day"),className:`flex items-center space-x-1 px-3 py-1 rounded text-sm font-medium transition-colors ${d==="day"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(Se,{className:"w-4 h-4"}),e.jsx("span",{children:s("calendar.day")})]})]}),e.jsxs("button",{onClick:()=>{const c=prompt("事件标题");if(!c)return;const n=prompt("开始时间（例如 14:00）"),[m,$]=(n||"09:00").split(":"),o=new Date(D);o.setHours(Number(m)||9,Number($)||0,0,0),x({title:c,type:"class_event",start_at:o.toISOString()}),alert("已添加到日历")},className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Q,{className:"w-4 h-4"}),e.jsx("span",{children:s("calendar.addEvent")})]})]})]}),r&&e.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:s("calendar.showEventTypes")}),e.jsx("div",{className:"grid grid-cols-4 gap-4",children:Object.entries(v).map(([c,n])=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",name:`filter-${c}`,id:`filter-${c}`,checked:n,onChange:m=>a($=>({...$,[c]:m.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:s(`calendar.eventTypes.${c}`)})]},c))})]})]}),d==="month"&&e.jsx(t,{}),d==="week"&&e.jsx(C,{}),d==="day"&&e.jsx(j,{})]})},Ve=()=>{const{user:s}=H(),{t:l}=U(),[x,i]=N.useState("all"),[g,d]=N.useState(""),[h,D]=N.useState(!1),[k,r]=N.useState([{id:1,sender:{name:"Prof. Smith",avatar:"PS",category:"学术导师",type:"prof"},subject:"Assignment 2 Feedback - Urgent Review Required",preview:"你好张伟，关于你提交的Assignment 2，我需要和你讨论一些重要的修改建议。请查看附件中的详细反馈，并安排时间进行一对一讨论...",timestamp:"2小时前",priority:"high",isRead:!1,isUrgent:!0,tags:["作业反馈","重要"],type:"assignment"},{id:2,sender:{name:"UCL Registry",avatar:"UR",category:"学校官方",type:"registry"},subject:"Semester Results Available - Check Your Portal",preview:"亲爱的学生，您的本学期成绩已经公布，请登录学生门户网站查看详细成绩单。如有任何疑问，请联系学术事务办公室...",timestamp:"1天前",priority:"medium",isRead:!1,isUrgent:!1,tags:["成绩通知","官方"],type:"notification"},{id:3,sender:{name:"Career Services",avatar:"CS",category:"职业服务",type:"career"},subject:"Tech Career Fair 2024 - Registration Now Open",preview:"技术职业博览会2024即将开始报名！这是与顶尖科技公司面对面交流的绝佳机会，包括Google、Microsoft、Amazon等知名企业...",timestamp:"3天前",priority:"normal",isRead:!0,isUrgent:!1,tags:["职业发展","招聘会"],type:"career"}]),b={urgent:k.filter(t=>t.isUrgent).length,pending:k.filter(t=>!t.isRead).length,assignments:k.filter(t=>t.type==="assignment").length,accuracy:95},v=[{id:"all",label:"全部",count:k.length},{id:"assignment",label:"作业",count:k.filter(t=>t.type==="assignment").length},{id:"notification",label:"通知",count:k.filter(t=>t.type==="notification").length},{id:"promotion",label:"推广",count:0},{id:"spam",label:"垃圾邮件",count:0},{id:"read",label:"已读",count:k.filter(t=>t.isRead).length},{id:"unread",label:"未读",count:k.filter(t=>!t.isRead).length}],a=k.filter(t=>{const C=g===""||t.subject.toLowerCase().includes(g.toLowerCase())||t.preview.toLowerCase().includes(g.toLowerCase())||t.sender.name.toLowerCase().includes(g.toLowerCase()),j=x==="all"||x==="read"&&t.isRead||x==="unread"&&!t.isRead||t.type===x;return C&&j}),w=t=>({prof:"bg-gradient-to-r from-blue-500 to-blue-600",registry:"bg-gradient-to-r from-green-500 to-green-600",career:"bg-gradient-to-r from-amber-500 to-amber-600"})[t]||"bg-gradient-to-r from-gray-500 to-gray-600",y=t=>t.includes("作业")||t.includes("反馈")?"bg-blue-50 text-blue-600":t.includes("通知")||t.includes("官方")?"bg-green-50 text-green-600":t.includes("职业")||t.includes("招聘")?"bg-amber-50 text-amber-600":"bg-gray-50 text-gray-600",f=()=>{D(!0),setTimeout(()=>{const t=[...k].sort((C,j)=>{const A={high:3,medium:2,normal:1},M=A[j.priority]-A[C.priority];return M!==0?M:new Date(j.timestamp)-new Date(C.timestamp)});r(t),D(!1)},2e3)},S=(t,C,j)=>{j.stopPropagation(),r(A=>A.map(M=>{if(M.id===t)switch(C){case"star":return{...M,isStarred:!M.isStarred};case"read":return{...M,isRead:!M.isRead};default:return M}return M}).filter(M=>!(C==="delete"&&M.id===t))),C==="archive"&&setTimeout(()=>{r(A=>A.filter(M=>M.id!==t))},300)};return e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6 space-y-6",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 -mx-4 px-4 py-4 sticky top-0 z-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-purple-600 rounded-xl flex items-center justify-center text-white font-semibold",children:"张"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"智能邮件中心"}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{children:"02:53 已同步"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(le,{className:"w-5 h-5"})}),e.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(V,{className:"w-5 h-5"})}),e.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Z,{className:"w-5 h-5"})})]})]})}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 rounded-2xl p-6 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-white opacity-10 rounded-full -mr-24 -mt-24"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-white bg-opacity-20 rounded-xl flex items-center justify-center text-xl backdrop-blur-sm",children:"🤖"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:"今日邮件摘要"}),e.jsx("p",{className:"text-purple-100",children:"AI为您智能分析和归类邮件内容"})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"紧急邮件",value:b.urgent},{label:"待处理",value:b.pending},{label:"作业相关",value:b.assignments},{label:"分类准确率",value:`${b.accuracy}%`}].map((t,C)=>e.jsxs("div",{className:"text-center bg-white bg-opacity-10 rounded-xl p-3 backdrop-blur-sm",children:[e.jsx("div",{className:"text-2xl font-bold",children:t.value}),e.jsx("div",{className:"text-sm text-purple-100",children:t.label})]},C))})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Me,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"搜索邮件内容、发件人或关键词...",value:g,onChange:t=>d(t.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl bg-gray-50 focus:bg-white focus:border-purple-500 focus:ring-2 focus:ring-purple-500 focus:ring-opacity-20 transition-colors"})]}),e.jsx("button",{onClick:f,disabled:h,className:"px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-xl font-medium hover:from-green-600 hover:to-green-700 transition-all transform hover:-translate-y-0.5 disabled:opacity-70 disabled:transform-none flex items-center space-x-2",children:h?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"AI排序中..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"🧠"}),e.jsx("span",{children:"AI智能排序"})]})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(t=>e.jsxs("button",{onClick:()=>i(t.id),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${x===t.id?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[t.label,t.count>0&&e.jsx("span",{className:`ml-2 px-2 py-0.5 text-xs rounded-full ${x===t.id?"bg-white text-purple-600":"bg-red-500 text-white"}`,children:t.count})]},t.id))})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:a.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:"📧"}),e.jsx("p",{className:"text-gray-500",children:"没有找到匹配的邮件"})]}):a.map((t,C)=>e.jsxs("div",{className:`p-6 border-b border-gray-100 last:border-b-0 hover:bg-gray-50 cursor-pointer transition-colors relative ${t.isRead?"":"bg-purple-50 bg-opacity-50 border-l-4 border-l-purple-500"} ${t.isUrgent?"border-l-4 border-l-red-500 bg-red-50 bg-opacity-30":""}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center text-white text-sm font-semibold ${w(t.sender.type)}`,children:t.sender.avatar}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:t.sender.name}),e.jsx("p",{className:"text-sm text-gray-500",children:t.sender.category})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-sm text-gray-500",children:t.timestamp}),t.priority==="high"&&e.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-600 text-xs font-medium rounded-full",children:"紧急"}),t.priority==="medium"&&e.jsx("span",{className:"px-2 py-1 bg-amber-100 text-amber-600 text-xs font-medium rounded-full",children:"重要"}),e.jsxs("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:j=>S(t.id,"star",j),className:"p-1.5 text-gray-400 hover:text-amber-500 rounded-lg hover:bg-amber-50 transition-colors",children:e.jsx(Ae,{className:`w-4 h-4 ${t.isStarred?"fill-amber-500 text-amber-500":""}`})}),e.jsx("button",{onClick:j=>S(t.id,"archive",j),className:"p-1.5 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx(pe,{className:"w-4 h-4"})}),e.jsx("button",{onClick:j=>S(t.id,"delete",j),className:"p-1.5 text-gray-400 hover:text-red-500 rounded-lg hover:bg-red-50 transition-colors",children:e.jsx(ce,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:t.subject}),e.jsx("p",{className:"text-gray-600 text-sm line-clamp-2",children:t.preview})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map((j,A)=>e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-lg ${y(j)}`,children:j},A))})]},t.id))}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg flex items-center justify-center text-white",children:"💡"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"AI智能建议"})]}),e.jsx("div",{className:"space-y-3",children:["Prof. Smith的邮件标记为紧急，建议优先回复并安排面谈时间","成绩通知邮件可以自动添加到日历提醒中，避免错过重要截止日期","职业博览会信息建议转发给感兴趣的同学，增加networking机会"].map((t,C)=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-xl hover:bg-gray-100 cursor-pointer transition-colors",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full flex-shrink-0"}),e.jsx("p",{className:"text-sm text-gray-700",children:t})]},C))})]}),e.jsx("button",{className:"fixed bottom-6 right-6 w-14 h-14 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-2xl shadow-xl hover:shadow-2xl transition-all transform hover:scale-110 flex items-center justify-center z-50",children:e.jsx(ie,{className:"w-6 h-6"})})]})},Ze=()=>e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"relative group mb-8",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-red-600 to-rose-500 rounded-3xl blur-xl opacity-20 group-hover:opacity-30 transition-opacity"}),e.jsxs("div",{className:"relative bg-gradient-to-tr from-red-600 via-rose-500 to-pink-500 rounded-3xl p-8 text-white overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white opacity-5 rounded-full -translate-y-32 translate-x-32"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white opacity-5 rounded-full translate-y-24 -translate-x-24"}),e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"紧急联系"}),e.jsx("p",{className:"text-red-100 text-lg mb-4",children:"如遇紧急情况，请立即拨打以下电话获取帮助"}),e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-black/5 rounded-2xl backdrop-blur-lg group-hover:bg-black/10 transition-colors"}),e.jsxs("div",{className:"relative p-4 text-center",children:[e.jsx(G,{className:"w-6 h-6 text-white mx-auto mb-2"}),e.jsx("div",{className:"text-sm text-red-100",children:"24/7全天候支持"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-black/5 rounded-2xl backdrop-blur-lg group-hover:bg-black/10 transition-colors"}),e.jsxs("div",{className:"relative p-4 text-center",children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:"112"}),e.jsx("div",{className:"text-sm text-red-100",children:"英国报警电话"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-black/5 rounded-2xl backdrop-blur-lg group-hover:bg-black/10 transition-colors"}),e.jsxs("div",{className:"relative p-4 text-center",children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:"999"}),e.jsx("div",{className:"text-sm text-red-100",children:"救护车"})]})]})]})]})]}),e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500 to-rose-500 rounded-2xl blur-lg opacity-0 group-hover:opacity-20 transition-opacity"}),e.jsxs("button",{className:"relative w-full flex items-center justify-between p-6 bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl shadow-red-500/5 hover:shadow-2xl hover:shadow-red-500/10 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-red-500 to-rose-400 rounded-xl blur-lg opacity-40 group-hover:opacity-60 transition-opacity"}),e.jsx("div",{className:"relative w-14 h-14 bg-gradient-to-tr from-red-500 to-rose-400 rounded-xl flex items-center justify-center",children:e.jsx(G,{className:"w-7 h-7 text-white transform group-hover:rotate-12 transition-transform"})})]}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-lg font-semibold text-gray-900 mb-1",children:"呼叫家长"}),e.jsx("p",{className:"text-base text-gray-600",children:"一键拨号"})]})]}),e.jsx("div",{className:"w-10 h-10 bg-red-50 rounded-xl flex items-center justify-center group-hover:bg-red-100 transition-colors",children:e.jsx("span",{className:"text-red-600 text-lg font-bold transform group-hover:translate-x-1 transition-transform",children:"→"})})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-2xl blur-lg opacity-0 group-hover:opacity-20 transition-opacity"}),e.jsxs("button",{className:"relative w-full flex items-center justify-between p-6 bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl shadow-blue-500/5 hover:shadow-2xl hover:shadow-blue-500/10 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-blue-500 to-indigo-400 rounded-xl blur-lg opacity-40 group-hover:opacity-60 transition-opacity"}),e.jsx("div",{className:"relative w-14 h-14 bg-gradient-to-tr from-blue-500 to-indigo-400 rounded-xl flex items-center justify-center",children:e.jsx(G,{className:"w-7 h-7 text-white transform group-hover:rotate-12 transition-transform"})})]}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-lg font-semibold text-gray-900 mb-1",children:"UCL学生服务"}),e.jsx("p",{className:"text-base text-gray-600",children:"24小时热线"})]})]}),e.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-xl flex items-center justify-center group-hover:bg-blue-100 transition-colors",children:e.jsx("span",{className:"text-blue-600 text-lg font-bold transform group-hover:translate-x-1 transition-transform",children:"→"})})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-500 to-green-500 rounded-2xl blur-lg opacity-0 group-hover:opacity-20 transition-opacity"}),e.jsxs("button",{className:"relative w-full flex items-center justify-between p-6 bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl shadow-emerald-500/5 hover:shadow-2xl hover:shadow-emerald-500/10 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-emerald-500 to-green-400 rounded-xl blur-lg opacity-40 group-hover:opacity-60 transition-opacity"}),e.jsx("div",{className:"relative w-14 h-14 bg-gradient-to-tr from-emerald-500 to-green-400 rounded-xl flex items-center justify-center",children:e.jsx(G,{className:"w-7 h-7 text-white transform group-hover:rotate-12 transition-transform"})})]}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-lg font-semibold text-gray-900 mb-1",children:"中国领事馆"}),e.jsx("p",{className:"text-base text-gray-600",children:"紧急求助"})]})]}),e.jsx("div",{className:"w-10 h-10 bg-emerald-50 rounded-xl flex items-center justify-center group-hover:bg-emerald-100 transition-colors",children:e.jsx("span",{className:"text-emerald-600 text-lg font-bold transform group-hover:translate-x-1 transition-transform",children:"→"})})]})]})]})]}),We=({currentAvatar:s,onAvatarChange:l})=>{const{getInitials:x}=W(),[i,g]=N.useState(s||null),[d,h]=N.useState(!1),[D,k]=N.useState(!1);N.useEffect(()=>{g(s||null)},[s]);const r=b=>{const v=b.target.files[0];if(v){if(v.size>2*1024*1024){alert("图片大小不能超过2MB");return}if(!v.type.startsWith("image/")){alert("请选择图片文件");return}h(!0);const a=new FileReader;a.onload=()=>{g(a.result),l&&l(a.result),h(!1),k(!0),setTimeout(()=>{k(!1)},3e3)},a.readAsDataURL(v)}};return e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden border-2 border-gray-200 shadow-sm",children:i?e.jsx("img",{src:i,alt:"用户头像",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold text-xl",children:x()})})}),d&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-xl flex items-center justify-center",children:e.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:"头像"}),e.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"点击下方按钮更换头像，支持JPG、PNG格式，大小不超过2MB"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("label",{className:"relative cursor-pointer",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:r,className:"sr-only",disabled:d}),e.jsx("div",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors disabled:opacity-50",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm",children:"上传中..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(be,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"更换头像"})]})})]}),D&&e.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[e.jsx(Y,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"上传成功"})]})]})]})]})},Ye=()=>{const{theme:s,setTheme:l,backgroundStyle:x,setBackgroundStyle:i,blurIntensity:g,setBlurIntensity:d,transparency:h,setTransparency:D,backgrounds:k,themes:r,getThemeConfig:b}=B(),v=b();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:`rounded-xl p-4 border ${v.card}`,children:[e.jsx("h3",{className:`text-lg font-medium mb-3 ${v.text}`,children:"Theme"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:r.map(a=>e.jsx("button",{onClick:()=>l(a),className:`px-3 py-2 rounded-lg text-sm font-medium border ${s===a?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200"}`,children:a},a))})]}),e.jsxs("div",{className:`rounded-xl p-4 border ${v.card}`,children:[e.jsx("h3",{className:`text-lg font-medium mb-3 ${v.text}`,children:"Background"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:k.map(a=>e.jsx("button",{onClick:()=>i(a),className:`px-3 py-2 rounded-lg text-sm font-medium border ${x===a?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200"}`,children:a},a))})]}),e.jsxs("div",{className:`rounded-xl p-4 border ${v.card}`,children:[e.jsx("h3",{className:`text-lg font-medium mb-3 ${v.text}`,children:"Effects"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Blur (xl steps)"}),e.jsx("input",{type:"range",min:0,max:5,step:1,value:g,onChange:a=>d(Number(a.target.value)),className:"w-full"}),e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[g,"x"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Transparency (%)"}),e.jsx("input",{type:"range",min:0,max:50,step:5,value:h,onChange:a=>D(Number(a.target.value)),className:"w-full"}),e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[h,"%"]})]})]})]})]})},Je=()=>{const{selectedProvider:s,userType:l}=H(),{t:x,language:i,changeLanguage:g}=U(),{userData:d,updateUserData:h}=W(),[D,k]=N.useState({profile:!0,academic:!1,notifications:!1,privacy:!1,app:!1,connections:!1,support:!1,parent:!1}),[r,b]=N.useState(!1),[v,a]=N.useState(!1),[w,y]=N.useState(d),[f,S]=N.useState({assignments:!0,grades:!0,events:!0,emails:!1,deadlines:!0,calendar:!0}),t=o=>{y(u=>({...u,avatar:o})),h({avatar:o})},[C,j]=N.useState({parentAccess:{courses:!0,assignments:!0,grades:!1,activities:!0,location:!1},dataSharing:{analytics:!0,research:!1,marketing:!1}}),[A,M]=N.useState({language:i,theme:"light",timezone:"Europe/London",autoSync:"daily"}),O=()=>{localStorage.setItem("appSettings",JSON.stringify(A));const o=document.createElement("div");o.className="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50",o.textContent="设置已保存",document.body.appendChild(o),setTimeout(()=>{document.body.contains(o)&&document.body.removeChild(o)},3e3)};he.useEffect(()=>{const o=localStorage.getItem("appSettings");o&&M(JSON.parse(o))},[]);const c=o=>{k(u=>({...u,[o]:!u[o]}))},n=()=>{b(!1),a(!0),h(w),setTimeout(()=>{a(!1)},3e3)},m=({id:o,title:u,icon:I,children:z,badge:T=null})=>{const E=D[o];return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[e.jsxs("button",{onClick:()=>c(o),className:"w-full p-4 flex items-center justify-between hover:bg-gray-50 transition-colors rounded-t-xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(I,{className:"w-4 h-4 text-blue-600"})}),e.jsx("span",{className:"font-semibold text-gray-900",children:u}),T&&e.jsx("span",{className:"bg-red-100 text-red-600 text-xs px-2 py-1 rounded-full",children:T})]}),E?e.jsx(je,{className:"w-5 h-5 text-gray-400"}):e.jsx(ae,{className:"w-5 h-5 text-gray-400"})]}),E&&e.jsx("div",{className:"p-4 pt-0 border-t border-gray-100",children:z})]})},$=({enabled:o,onChange:u,label:I,description:z})=>e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:I}),z&&e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:z})]}),e.jsx("button",{onClick:()=>u(!o),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${o?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${o?"translate-x-6":"translate-x-1"}`})})]});return e.jsxs("div",{className:"space-y-4 max-w-4xl mx-auto",children:[v&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 flex items-center space-x-3",children:[e.jsx(Y,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-green-800",children:"保存成功！"}),e.jsx("p",{className:"text-sm text-green-600",children:"您的个人信息已更新"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"设置"}),e.jsx("p",{className:"text-gray-600",children:"管理您的个人资料、通知偏好和应用设置"})]}),e.jsx(m,{id:"profile",title:"个人资料",icon:X,children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(We,{currentAvatar:w.avatar,onAvatarChange:t}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"基本信息"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[r&&e.jsxs("button",{onClick:()=>{b(!1),y(d)},className:"flex items-center space-x-1 text-gray-600 text-sm font-medium hover:text-gray-800",children:[e.jsx(Ee,{className:"w-4 h-4"}),e.jsx("span",{children:"取消"})]}),e.jsxs("button",{onClick:()=>r?n():b(!0),className:"flex items-center space-x-1 text-blue-600 text-sm font-medium hover:text-blue-700",children:[r?e.jsx(De,{className:"w-4 h-4"}):e.jsx(ie,{className:"w-4 h-4"}),e.jsx("span",{children:r?"保存":"编辑"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"profile-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"姓名"}),r?e.jsx("input",{id:"profile-name",name:"profile-name",type:"text",value:w.name,onChange:o=>y(u=>({...u,name:o.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):e.jsx("p",{className:"text-gray-900",children:w.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"profile-student-id",className:"block text-sm font-medium text-gray-700 mb-1",children:"学号"}),r?e.jsx("input",{id:"profile-student-id",name:"profile-student-id",type:"text",value:w.studentId,onChange:o=>y(u=>({...u,studentId:o.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):e.jsx("p",{className:"text-gray-900",children:w.studentId})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"profile-email",className:"block text-sm font-medium text-gray-700 mb-1",children:"邮箱"}),r?e.jsx("input",{id:"profile-email",name:"profile-email",type:"email",value:w.email,onChange:o=>y(u=>({...u,email:o.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):e.jsx("p",{className:"text-gray-900",children:w.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"profile-phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"电话"}),r?e.jsx("input",{id:"profile-phone",name:"profile-phone",type:"tel",value:w.phone,onChange:o=>y(u=>({...u,phone:o.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):e.jsx("p",{className:"text-gray-900",children:w.phone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"大学"}),e.jsx("p",{className:"text-gray-900",children:w.university})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"专业"}),e.jsx("p",{className:"text-gray-900",children:w.programme})]})]})]})]})}),e.jsx(m,{id:"notifications",title:"通知设置",icon:V,children:e.jsxs("div",{className:"space-y-4",children:[e.jsx($,{enabled:f.assignments,onChange:o=>S(u=>({...u,assignments:o})),label:"作业提醒",description:"新作业和截止日期提醒"}),e.jsx($,{enabled:f.grades,onChange:o=>S(u=>({...u,grades:o})),label:"成绩通知",description:"新成绩发布时通知"}),e.jsx($,{enabled:f.events,onChange:o=>S(u=>({...u,events:o})),label:"课程提醒",description:"课程开始前的提醒"}),e.jsx($,{enabled:f.deadlines,onChange:o=>S(u=>({...u,deadlines:o})),label:"截止日期提醒",description:"作业和项目截止前的提醒"})]})}),e.jsx(m,{id:"app",title:"应用设置",icon:Z,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"语言设置"}),e.jsxs("select",{value:i,onChange:o=>g(o.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"zh",children:"中文"}),e.jsx("option",{value:"en",children:"English"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"主题设置"}),e.jsx(Ye,{})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"时区设置"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("select",{value:A.timezone,onChange:o=>M(u=>({...u,timezone:o.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"Europe/London",children:"伦敦 (GMT+0)"}),e.jsx("option",{value:"Asia/Shanghai",children:"北京 (GMT+8)"}),e.jsx("option",{value:"America/New_York",children:"纽约 (GMT-5)"}),e.jsx("option",{value:"Europe/Paris",children:"巴黎 (GMT+1)"}),e.jsx("option",{value:"Asia/Tokyo",children:"东京 (GMT+9)"}),e.jsx("option",{value:"Australia/Sydney",children:"悉尼 (GMT+10)"})]}),e.jsx("button",{onClick:O,className:"px-4 py-2 bg-blue-500 text-white text-sm rounded-lg hover:bg-blue-600 transition-colors",children:"保存时区设置"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"数据同步"}),e.jsxs("select",{value:A.autoSync,onChange:o=>M(u=>({...u,autoSync:o.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"realtime",children:"实时同步"}),e.jsx("option",{value:"daily",children:"每日同步"}),e.jsx("option",{value:"weekly",children:"每周同步"}),e.jsx("option",{value:"manual",children:"手动同步"})]})]})]})}),e.jsx(m,{id:"data",title:"数据管理",icon:Te,children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("button",{className:"flex items-center justify-center space-x-2 p-3 text-blue-600 font-medium border border-blue-300 rounded-lg hover:bg-blue-50",children:[e.jsx(fe,{className:"w-4 h-4"}),e.jsx("span",{children:"导出数据"})]}),e.jsxs("button",{className:"flex items-center justify-center space-x-2 p-3 text-blue-600 font-medium border border-blue-300 rounded-lg hover:bg-blue-50",children:[e.jsx(Ie,{className:"w-4 h-4"}),e.jsx("span",{children:"备份设置"})]}),e.jsxs("button",{className:"flex items-center justify-center space-x-2 p-3 text-red-600 font-medium border border-red-300 rounded-lg hover:bg-red-50",children:[e.jsx(ce,{className:"w-4 h-4"}),e.jsx("span",{children:"删除账户"})]})]})})}),e.jsx(m,{id:"support",title:"支持与反馈",icon:ke,children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("button",{className:"flex items-center space-x-3 p-3 text-left border border-gray-300 rounded-lg hover:bg-gray-50",children:[e.jsx(re,{className:"w-5 h-5 text-gray-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"使用帮助"}),e.jsx("div",{className:"text-sm text-gray-500",children:"查看使用指南"})]})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-3 text-left border border-gray-300 rounded-lg hover:bg-gray-50",children:[e.jsx(ne,{className:"w-5 h-5 text-gray-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"联系客服"}),e.jsx("div",{className:"text-sm text-gray-500",children:"获取技术支持"})]})]})]})})})]})};function Ke(){const{t:s}=U(),[l,x]=N.useState([{id:1,from:"ai",text:"你好！我是你的AI学习助手。我可以帮你解答学习问题、制定计划、解决困惑。试试问我具体的问题吧！"}]),[i,g]=N.useState(""),[d,h]=N.useState(!1),[D,k]=N.useState(""),[r,b]=N.useState(!1),[v,a]=N.useState(!1),w=f=>{const S=f.toLowerCase(),t=[{patterns:["怎么学","如何学","学习方法","学不会","学不懂","效率","提高"],responses:[`关于学习方法，我建议你：

1. 制定明确的学习目标
2. 采用主动学习法（提问、总结、教授他人）
3. 使用间隔重复记忆法
4. 保持专注，避免多任务处理

你具体在哪个科目或领域遇到困难？我可以给出更针对性的建议。`,`学习效率的关键在于方法和习惯：

• 番茄工作法：25分钟专注+5分钟休息
• 费曼学习法：用简单语言解释复杂概念
• 思维导图：梳理知识结构
• 定期复习：遗忘曲线规律复习

你想了解哪种方法的具体操作步骤？`]},{patterns:["时间","计划","安排","拖延","deadline","截止","忙碌"],responses:[`时间管理的核心是优先级排序：

⭐ 重要且紧急：立即处理
📅 重要不紧急：计划安排
⚡ 紧急不重要：快速处理或委派
❌ 不重要不紧急：尽量避免

建议使用日历工具记录所有任务，每天晚上规划第二天的安排。你现在最大的时间管理挑战是什么？`,`对抗拖延症的实用方法：

1. 2分钟法则：能在2分钟内完成的事立即做
2. 分解任务：大任务拆分成小步骤
3. 设定奖励：完成任务后给自己小奖励
4. 环境优化：移除干扰因素

最重要的是开始行动，即使只做5分钟也比不做强！`]},{patterns:["考试","复习","背书","记忆","背不下来","忘记"],responses:[`高效复习策略：

📚 主动回忆：不看书回想知识点
📝 制作卡片：重点概念做成记忆卡
🔄 间隔复习：第1天、第3天、第7天、第15天复习
👥 互相提问：和同学互相测试

考试前一周应该以回顾和练习为主，不要学新内容。你是什么类型的考试？`,`记忆技巧大全：

• 联想记忆：将新信息与已知信息关联
• 故事法：将要记的内容编成故事
• 位置法：在熟悉的路线上放置记忆点
• 图像化：抽象概念转化为具体图像

建议根据学科特点选择合适的记忆方法。比如历史用故事法，化学用图像法。`]},{patterns:["编程","bug","代码","算法","python","java","javascript","程序"],responses:[`编程学习建议：

💻 多动手练习：理论+实践结合
🔍 学会调试：掌握断点、日志技巧
📖 阅读源码：学习优秀项目的代码
🤝 参与项目：GitHub上找开源项目

遇到bug时的系统化排查流程：
1. 复现问题
2. 查看错误信息
3. 逐步调试
4. 查阅文档
5. 寻求社区帮助

你在学哪种编程语言？遇到什么具体问题？`,`算法学习路径：

基础：数组、链表、栈、队列
进阶：树、图、哈希表
算法：排序、搜索、动态规划

推荐资源：
• LeetCode：刷题练习
• 算法可视化网站：理解过程
• GitHub算法仓库：学习实现

建议每天坚持做1-2道题，重在理解思路而非速度。`]},{patterns:["压力","焦虑","紧张","担心","害怕","烦躁","情绪"],responses:[`缓解学习压力的方法：

🧘 放松技巧：深呼吸、冥想、渐进式肌肉放松
🏃 运动释压：跑步、瑜伽、散步
💬 情感支持：和朋友、家人或咨询师交流
📝 写日记：记录情绪和想法

记住，适度压力是正常的，关键是学会管理。如果压力持续影响生活，建议寻求专业帮助。`,`应对考试焦虑：

准备阶段：
• 制定现实的复习计划
• 充分准备，增强信心
• 保持规律的作息

考试时：
• 到达考场后做深呼吸
• 先做简单题建立信心
• 遇到难题暂时跳过

记住：考试只是检验学习成果的一种方式，不代表你的全部价值。`]},{patterns:["专业","职业","就业","实习","求职","面试","简历"],responses:[`职业发展建议：

🎯 明确目标：确定职业方向和短期目标
💼 技能建设：关注行业需求的核心技能
🌐 建立人脉：参加行业活动、线上社群
📄 作品集：展示实际项目和成果

实习是很好的实践机会，建议主动申请相关岗位。你的专业方向是什么？`,`简历制作要点：

• 简洁明了：1-2页为宜
• 突出成果：用数据说话
• 关键词优化：匹配岗位要求
• 项目经历：详细描述参与项目

面试准备：
• 研究公司背景
• 准备常见问题回答
• 练习技术问题
• 准备提问问题`]}];let C=null,j=0;t.forEach(c=>{let n=0;c.patterns.forEach(m=>{S.includes(m)&&(n+=m.length)}),n>j&&(j=n,C=c)});const A=[{patterns:["你是谁","你好","hello","介绍"],response:`我是你的AI学习助手！我可以帮助你：

📚 学习方法指导
⏰ 时间管理建议
💻 编程技术问答
📝 考试复习规划
😌 压力情绪调节
🎯 职业发展建议

有什么具体问题想问我吗？`},{patterns:["谢谢","感谢","thank"],response:`不客气！很高兴能帮助到你😊

如果还有其他问题，随时可以问我。记住，学习是一个持续的过程，保持耐心和坚持很重要！`},{patterns:["没用","不好","垃圾","愚蠢"],response:`抱歉我的回答没有帮助到你😔

我还在不断学习中，可以：
• 尝试更具体地描述你的问题
• 问不同类型的问题让我学习
• 使用OpenAI模式获得更专业的回答

你能告诉我需要什么样的帮助吗？`}];for(let c of A)if(c.patterns.some(n=>S.includes(n)))return Promise.resolve({text:`🤖 ${c.response}`});if(C&&j>0){const c=C.responses,n=c[Math.floor(Math.random()*c.length)];return new Promise(m=>{setTimeout(()=>{m({text:`🧠 ${n}`})},800+Math.random()*1200)})}const M=[`我理解你的问题。能否提供更多细节？比如：
• 具体是什么情况？
• 你已经尝试过什么方法？
• 希望达到什么目标？

这样我能给出更有针对性的建议。`,`这是个有趣的问题！虽然我可能无法给出完美答案，但我们可以一起分析：

💡 先明确问题的核心
🔍 分析可能的解决方向
📚 寻找相关资源
👥 考虑寻求专家建议

你觉得这个问题最困难的地方是什么？`,`让我帮你整理一下思路：

1️⃣ 明确现状：目前的情况如何？
2️⃣ 确定目标：想要达到什么效果？
3️⃣ 分析差距：中间有什么阻碍？
4️⃣ 制定行动：可以采取哪些步骤？

你想从哪个角度开始分析？`],O=M[Math.floor(Math.random()*M.length)];return new Promise(c=>{setTimeout(()=>{c({text:`💭 ${O}`})},800+Math.random()*1200)})},y=async()=>{if(!i.trim())return;const f={id:Date.now(),from:"user",text:i};x(t=>[...t,f]);const S=i;g(""),h(!0);try{let t;if(r&&D.trim()){const C=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${D}`},body:JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are a helpful AI tutor for students. Respond in Chinese with practical, encouraging advice. Use emojis and structured formatting to make responses clear and engaging."},{role:"user",content:S}],temperature:.7,max_tokens:500})});if(!C.ok)throw new Error("OpenAI API failed");t={text:`🔥 ${(await C.json()).choices[0].message.content}`}}else t=await w(S);x(C=>[...C,{id:Date.now(),from:"ai",text:t.text}])}catch{const C=await w(S);x(j=>[...j,{id:Date.now(),from:"ai",text:`⚠️ OpenAI连接失败，使用智能AI回复：

${C.text}`}])}finally{h(!1)}};return e.jsxs("div",{className:"flex flex-col h-[calc(100vh-200px)] max-w-4xl mx-auto bg-white rounded-xl border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:e.jsx(se,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-gray-900",children:"智能AI助手"}),e.jsx("p",{className:"text-sm text-gray-500",children:r&&D?"🔥 OpenAI模式":"🧠 智能AI模式"})]})]}),e.jsx("button",{onClick:()=>a(!v),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",children:e.jsx(Z,{className:"w-5 h-5"})})]}),v&&e.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"use-openai",checked:r,onChange:f=>b(f.target.checked),className:"rounded"}),e.jsx("label",{htmlFor:"use-openai",className:"font-medium text-gray-700",children:"使用OpenAI API（可选，需要密钥）"})]}),r&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OpenAI API密钥"}),e.jsx("input",{type:"password",value:D,onChange:f=>k(f.target.value),placeholder:"sk-...",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"密钥仅在浏览器本地存储，不会上传到服务器"})]}),e.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ge,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-800",children:"智能AI升级"}),e.jsx("p",{className:"text-sm text-blue-700",children:"新版智能AI支持：学习方法、时间管理、编程技术、考试复习、情绪调节、职业发展等专业建议"})]})]})})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[l.map(f=>e.jsx("div",{className:`flex ${f.from==="user"?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-xs lg:max-w-md px-4 py-3 rounded-2xl ${f.from==="user"?"bg-blue-500 text-white":"bg-gray-100 text-gray-900"}`,children:e.jsx("p",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:f.text})})},f.id)),d&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-gray-100 text-gray-900 px-4 py-3 rounded-2xl",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),e.jsx("span",{className:"text-sm",children:"AI正在思考..."})]})})})]}),e.jsxs("div",{className:"p-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:i,onChange:f=>g(f.target.value),onKeyPress:f=>f.key==="Enter"&&y(),placeholder:"试试问我：如何提高学习效率？编程遇到bug怎么办？",className:"flex-1 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",disabled:d}),e.jsx("button",{onClick:y,disabled:d||!i.trim(),className:"px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx($e,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:["如何提高学习效率？","时间管理技巧","考试复习方法","编程学习建议"].map((f,S)=>e.jsx("button",{onClick:()=>g(f),className:"px-3 py-1 text-xs bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition-colors",children:f},S))})]})]})}const Xe=()=>e.jsx(ze,{children:e.jsxs(ue,{children:[e.jsx(L,{path:"/",element:e.jsx(ee,{to:"home",replace:!0})}),e.jsx(L,{path:"/home",element:e.jsx(Oe,{})}),e.jsx(L,{path:"/mail",element:e.jsx(Ve,{})}),e.jsx(L,{path:"/grades",element:e.jsx(Ge,{})}),e.jsx(L,{path:"/jobs",element:e.jsx(qe,{})}),e.jsx(L,{path:"/campus",element:e.jsx(Be,{})}),e.jsx(L,{path:"/calendar",element:e.jsx(Fe,{})}),e.jsx(L,{path:"/emergency",element:e.jsx(Ze,{})}),e.jsx(L,{path:"/ai",element:e.jsx(Ke,{})}),e.jsx(L,{path:"/settings",element:e.jsx(Je,{})}),e.jsx(L,{path:"*",element:e.jsx(ee,{to:"home",replace:!0})})]})});export{Xe as default};
