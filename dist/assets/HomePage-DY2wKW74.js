import{c as x,r as i,b as h,j as e,A as g,u as p,G as u}from"./index-B6RRdl8Z.js";import{a as b,g as j,f}from"./helpers-Cvvc5hWn.js";import{C as N}from"./clock-CzrKaeqj.js";import{C as d}from"./calendar-CF7eb6yC.js";import{M as v}from"./map-pin-CmOX80xF.js";import{U as w}from"./user-BEP8z3Md.js";import{E as c}from"./external-link-EwsE6-4Q.js";import"./briefcase-BXtjDT90.js";import"./book-open-ICZXRWiG.js";/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=x("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),C=({event:s})=>{const l=b(s.type),[t,o]=i.useState(s.status==="completed"),[r,a]=i.useState(!1),{getThemeConfig:n}=h(),m=n();return e.jsxs("div",{className:`relative group ${t?"opacity-75":""}`,children:[e.jsx("div",{className:`absolute inset-0 rounded-3xl shadow-xl group-hover:shadow-2xl transition-all duration-300 ${m.card}`}),e.jsxs("div",{className:"relative p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsxs("div",{className:`relative group w-14 h-14 rounded-2xl bg-gradient-to-tr shadow-lg ${j(s.type)} flex items-center justify-center flex-shrink-0 transition-transform duration-300 group-hover:scale-110`,children:[e.jsx("div",{className:"absolute inset-0 rounded-2xl bg-white opacity-20 group-hover:opacity-30 transition-opacity"}),e.jsx(l,{className:"w-7 h-7 text-white transition-transform group-hover:scale-110"})]}),e.jsxs("div",{className:"flex-1 pt-1",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2 leading-tight",children:s.title}),s.course&&e.jsx("span",{className:"inline-block px-4 py-1 text-sm font-medium bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-600 rounded-full shadow-sm",children:s.course})]})]}),s.confidence<.8&&e.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1.5 bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl group-hover:shadow-md transition-shadow",children:[e.jsx(g,{className:"w-4 h-4 text-amber-500"}),e.jsx("span",{className:"text-xs font-medium text-amber-600",children:"需确认"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[s.due_at&&e.jsxs("div",{className:"col-span-2 flex items-center space-x-2 p-3 rounded-xl bg-red-50/50 group-hover:bg-red-50 transition-colors",children:[e.jsx(N,{className:"w-5 h-5 text-red-500"}),e.jsxs("span",{className:"font-medium text-red-600",children:["截止: ",f(s.due_at)]})]}),s.start_at&&e.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-xl bg-blue-50/50 group-hover:bg-blue-50 transition-colors",children:[e.jsx(d,{className:"w-5 h-5 text-blue-500"}),e.jsx("span",{className:"text-sm text-blue-600",children:new Date(s.start_at).toLocaleDateString("zh-CN",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),s.location&&e.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-xl bg-purple-50/50 group-hover:bg-purple-50 transition-colors",children:[e.jsx(v,{className:"w-5 h-5 text-purple-500"}),e.jsx("span",{className:"text-sm text-purple-600",children:s.location})]}),s.teacher&&e.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-xl bg-emerald-50/50 group-hover:bg-emerald-50 transition-colors",children:[e.jsx(w,{className:"w-5 h-5 text-emerald-500"}),e.jsx("span",{className:"text-sm text-emerald-600",children:s.teacher})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("button",{onClick:()=>a(!r),className:`
              flex items-center space-x-2 px-5 py-2.5 rounded-xl font-medium text-sm transition-all duration-300
              ${r?"bg-gradient-to-r from-emerald-50 to-green-50 text-emerald-600 shadow-sm shadow-emerald-100":"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-500/25 hover:shadow-xl hover:shadow-blue-500/30 hover:-translate-y-0.5"}
            `,children:[e.jsx(d,{className:"w-4 h-4"}),e.jsx("span",{children:r?"已加入":"加入日历"})]}),s.link&&e.jsxs("button",{onClick:()=>window.open(s.link,"_blank"),className:"flex items-center space-x-2 px-5 py-2.5 rounded-xl font-medium text-sm bg-gradient-to-r from-gray-50 to-gray-100 text-gray-700 shadow-sm hover:shadow-md hover:-translate-y-0.5 transition-all duration-300",children:[e.jsx(c,{className:"w-4 h-4"}),e.jsx("span",{children:"打开Moodle"})]}),e.jsxs("button",{onClick:()=>o(!t),className:`
              flex items-center space-x-2 px-5 py-2.5 rounded-xl font-medium text-sm transition-all duration-300
              ${t?"bg-gradient-to-r from-emerald-50 to-green-50 text-emerald-600 shadow-sm shadow-emerald-100":"bg-gradient-to-r from-emerald-50 to-emerald-100 text-emerald-600 shadow-sm hover:shadow-md hover:-translate-y-0.5"}
            `,children:[e.jsx(y,{className:"w-4 h-4"}),e.jsx("span",{children:t?"已完成":"标记完成"})]})]})]})]})},$=()=>{const{events:s,grades:l,setStudentTab:t}=p(),o=s.filter(a=>a.type==="class_event"&&new Date(a.start_at).toDateString()===new Date().toDateString()).length,r=s.filter(a=>a.type==="assignment_due"&&new Date(a.due_at)>new Date).length;return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2 text-gray-900",children:"今日概览"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["你今天有 ",s.length," 个重要事项需要关注"]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center border border-blue-100",children:[e.jsx("div",{className:"text-3xl font-bold mb-1 text-blue-600",children:o}),e.jsx("div",{className:"text-sm text-blue-700",children:"今日课程"})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 text-center border border-orange-100",children:[e.jsx("div",{className:"text-3xl font-bold mb-1 text-orange-600",children:r}),e.jsx("div",{className:"text-sm text-orange-700",children:"待交作业"})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center border border-green-100",children:[e.jsx("div",{className:"text-3xl font-bold mb-1 text-green-600",children:l.length}),e.jsx("div",{className:"text-sm text-green-700",children:"新成绩"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"智能卡片流"}),s.map(a=>e.jsx(C,{event:a},a.id))]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl shadow-gray-200/50 group-hover:shadow-2xl group-hover:shadow-gray-300/50 transition-all duration-300"}),e.jsxs("div",{className:"relative p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"快速操作"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>window.open("https://moodle.ucl.ac.uk/","_blank"),className:"w-full flex items-center space-x-3 p-4 rounded-xl bg-gradient-to-r from-blue-50 to-blue-100/50 hover:from-blue-100 hover:to-blue-200/50 transition-all duration-300 group",children:[e.jsx(c,{className:"w-5 h-5 text-blue-600 group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"font-medium",children:"打开Moodle"})]}),e.jsxs("button",{onClick:()=>t&&t("calendar"),className:"w-full flex items-center space-x-3 p-4 rounded-xl bg-gradient-to-r from-green-50 to-green-100/50 hover:from-green-100 hover:to-green-200/50 transition-all duration-300 group",children:[e.jsx(d,{className:"w-5 h-5 text-green-600 group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"font-medium",children:"查看课程表"})]}),e.jsxs("button",{onClick:()=>t&&t("grades"),className:"w-full flex items-center space-x-3 p-4 rounded-xl bg-gradient-to-r from-purple-50 to-purple-100/50 hover:from-purple-100 hover:to-purple-200/50 transition-all duration-300 group",children:[e.jsx(u,{className:"w-5 h-5 text-purple-600 group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"font-medium",children:"查看成绩"})]})]})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl shadow-gray-200/50 group-hover:shadow-2xl group-hover:shadow-gray-300/50 transition-all duration-300"}),e.jsxs("div",{className:"relative p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"最新成绩"}),e.jsx("div",{className:"space-y-3",children:l.slice(0,3).map((a,n)=>e.jsxs("div",{className:"group flex justify-between items-center p-4 rounded-xl bg-gradient-to-r from-gray-50 to-gray-100/50 hover:from-gray-100 hover:to-gray-200/50 transition-all duration-300",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:a.course}),e.jsx("div",{className:"text-sm text-gray-600",children:a.assignment})]}),e.jsx("div",{className:"text-lg font-bold text-emerald-600 group-hover:scale-110 transition-transform",children:a.grade})]},n))})]})]})]})]})};export{$ as default};
