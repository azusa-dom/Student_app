import{c as u,a as _,d as G,e as ce,j as e,f as F,g as X,b as de,r as y,A as oe,R as xe,h as A,N as J}from"./index-Bt-gg6kl.js";import{C as R,B as L,a as H,M as ee,G as W,b as U,S as se,c as te,P as I,U as ae}from"./user-DGQsUGbW.js";/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=u("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=u("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=u("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=u("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=u("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=u("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=u("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=u("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=u("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=u("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=u("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=u("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=u("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=u("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=u("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=u("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=u("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=u("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=u("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=u("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=u("Rows3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=u("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=u("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=u("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=u("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=u("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=u("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Me=({onNavigate:r})=>{const{t,language:c}=_(),{getThemeConfig:d}=G(),{grades:v,events:h}=ce(),a=d(),p=[{id:"project-yoga",icon:R,title:t("activities.projectYoga"),subtitle:t("activities.healthWellness"),time:"17:00 - 18:00",location:t("activities.sportsCenter"),attendees:t("activities.participants",{count:"25/30"}),status:"upcoming",bgColor:"bg-green-50",iconColor:"text-green-600",action:()=>r("/student/calendar")}],k=[{id:"assignments",number:"2",label:t("overview.dueToday"),color:"text-blue-600",bgColor:"bg-blue-50",action:()=>r("/student/grades")},{id:"schedule",number:"1",label:t("overview.classes"),color:"text-orange-600",bgColor:"bg-orange-50",action:()=>r("/student/calendar")},{id:"activities",number:"3",label:t("overview.activities"),color:"text-green-600",bgColor:"bg-green-50",action:()=>r("/student/calendar")}],b=[{id:"advanced-stats",icon:L,title:t("cards.advancedStats"),code:"STAT7001",date:t("cards.date_example_1",{date:"8月28日 20:27"}),location:t("cards.location_example",{location:"Room 301, Math Building"}),instructor:"Prof. Smith",actions:[{label:"加入日历",primary:!0,action:()=>r("/student/calendar")},{label:"标记完成",primary:!1}]},{id:"ml-coursework",icon:R,title:t("cards.mlCoursework"),code:"CS7012",status:t("cards.due_in_days",{days:1}),statusColor:"text-red-600",actions:[{label:"加入日历",primary:!0,action:()=>r("/student/calendar")},{label:"打开Moodle",primary:!1},{label:"标记完成",primary:!1}]},{id:"library-maintenance",icon:V,title:t("cards.libraryMaintenance"),date:t("cards.date_example_2",{date:"8月29日 18:27"}),actions:[{label:"加入日历",primary:!0,action:()=>r("/student/calendar")},{label:"标记完成",primary:!1}]}],S=[{id:"moodle",icon:L,label:t("quick.moodle"),color:"text-blue-600",action:()=>window.open("https://moodle.ucl.ac.uk","_blank")},{id:"grades",icon:L,label:t("quick.viewGrades"),color:"text-green-600",action:()=>r("/student/grades")},{id:"grades-info",icon:L,label:t("quick.viewGrades"),color:"text-purple-600",action:()=>r("/student/grades")}],m=[{code:"STAT7001",name:"Midterm Exam",score:"85%"},{code:"CS7012",name:"Project 1",score:"92%"},{code:"MATH7003",name:"Essay",score:"78%"}];return e.jsxs("div",{className:"space-y-6",children:[p.map(s=>e.jsxs("div",{className:`${s.bgColor} rounded-2xl p-4 cursor-pointer hover:shadow-md transition-all duration-200`,onClick:s.action,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-10 h-10 ${s.bgColor} rounded-xl flex items-center justify-center`,children:e.jsx(s.icon,{className:`w-5 h-5 ${s.iconColor}`})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:s.title}),e.jsx("p",{className:"text-gray-600 text-xs",children:s.subtitle})]})]}),e.jsx("button",{onClick:C=>{C.stopPropagation(),s.action()},className:"px-3 py-1.5 bg-white text-green-600 rounded-lg text-xs font-medium hover:shadow-sm transition-all duration-200",children:"报名参加"})]}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-600",children:[e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(R,{className:"w-3 h-3"}),e.jsx("span",{children:s.time})]}),e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(V,{className:"w-3 h-3"}),e.jsx("span",{children:s.location})]}),e.jsx("span",{children:s.attendees})]})]},s.id)),e.jsxs("div",{children:[e.jsxs("h4",{className:`font-semibold ${a.text} mb-3 flex items-center space-x-2`,children:[e.jsx(H,{className:"w-4 h-4"}),e.jsx("span",{children:t("overview.title")})]}),e.jsx("p",{className:`${a.textSecondary} text-sm mb-4`,children:t("home.description",{count:4})}),e.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4",children:k.map(s=>e.jsxs("div",{className:`${s.bgColor} rounded-xl p-3 text-center cursor-pointer hover:shadow-md transition-all duration-200`,onClick:s.action,children:[e.jsx("div",{className:`text-xl font-bold ${s.color}`,children:s.number}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:s.label})]},s.id))}),e.jsx("div",{className:"flex items-center space-x-2 mb-4",children:S.map(s=>e.jsxs("button",{onClick:s.action,className:"flex items-center space-x-1 px-3 py-2 bg-white rounded-lg border border-gray-200 hover:shadow-sm transition-all duration-200 text-xs",children:[e.jsx(s.icon,{className:`w-3 h-3 ${s.color}`}),e.jsx("span",{className:s.color,children:s.label})]},s.id))})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:`font-semibold ${a.text} mb-3 flex items-center space-x-2`,children:[e.jsx(L,{className:"w-4 h-4"}),e.jsx("span",{children:t("home.smartCards")})]}),e.jsx("div",{className:"space-y-3",children:b.map(s=>e.jsx("div",{className:`${a.card} rounded-xl p-4 border border-white/20`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(s.icon,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:`font-medium ${a.text} text-sm mb-1`,children:s.title}),s.code&&e.jsx("p",{className:`${a.textSecondary} text-xs mb-1`,children:s.code}),s.date&&e.jsxs("p",{className:`${a.textSecondary} text-xs mb-2 flex items-center space-x-1`,children:[e.jsx(H,{className:"w-3 h-3"}),e.jsx("span",{children:s.date})]}),s.location&&e.jsxs("p",{className:`${a.textSecondary} text-xs mb-2 flex items-center space-x-1`,children:[e.jsx(V,{className:"w-3 h-3"}),e.jsx("span",{children:s.location})]}),s.instructor&&e.jsxs("p",{className:`${a.textSecondary} text-xs mb-2`,children:[t("cards.instructor"),": ",s.instructor]}),s.status&&e.jsx("p",{className:`text-xs mb-2 ${s.statusColor}`,children:s.status}),e.jsx("div",{className:"flex items-center space-x-2",children:s.actions.map((C,$)=>e.jsx("button",{onClick:C.action,className:`px-3 py-1 rounded-lg text-xs font-medium transition-all duration-200 ${C.primary?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:C.label},$))})]})]})},s.id))})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:`font-semibold ${a.text} mb-3 flex items-center space-x-2`,children:[e.jsx(GraduationCap,{className:"w-4 h-4"}),e.jsx("span",{children:t("home.newGrades")})]}),e.jsx("div",{className:"space-y-2",children:m.map((s,C)=>e.jsxs("div",{className:`${a.card} rounded-lg p-3 border border-white/20 flex items-center justify-between cursor-pointer hover:shadow-md transition-all duration-200`,onClick:()=>r("/student/grades"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(GraduationCap,{className:"w-4 h-4 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${a.text} text-sm`,children:s.code}),e.jsx("p",{className:`${a.textSecondary} text-xs`,children:s.name})]})]}),e.jsx("div",{className:"text-green-600 font-bold text-sm",children:s.score})]},C))})]})]})},Te=({children:r})=>{const{grades:t}=F(),{t:c,language:d,changeLanguage:v}=_(),{getThemeConfig:h,getBackgroundClass:a}=G(),p=X(),k=de(),[b,S]=y.useState(new Date);y.useEffect(()=>{const w=setInterval(()=>S(new Date),1e3);return()=>clearInterval(w)},[]);const m=y.useMemo(()=>p.pathname.split("/").pop()||"home",[p.pathname]),s=h(),C=a(),$=y.useMemo(()=>[{id:"home",icon:Ne,label:c("nav.home"),path:"/student/home"},{id:"mail",icon:ee,label:c("nav.mail"),badge:!0,path:"/student/mail"},{id:"grades",icon:W,label:c("nav.grades"),badge:t.length>0,path:"/student/grades"},{id:"campus",icon:V,label:c("nav.campus"),path:"/student/campus"},{id:"jobs",icon:U,label:c("nav.jobs"),path:"/student/jobs"},{id:"ai",icon:he,label:c("ai.title"),path:"/student/ai"},{id:"settings",icon:se,label:c("nav.settings"),path:"/student/settings"}],[t.length,c]),f=w=>{k(w.path)},N=m==="home";return e.jsxs("div",{className:`min-h-screen ${C} pb-20`,children:[e.jsx("header",{className:`backdrop-blur-2xl ${s.navigation} border-b`,children:e.jsx("div",{className:"max-w-4xl mx-auto px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-10 h-10 ${s.card} rounded-xl flex items-center justify-center backdrop-blur-sm border border-white/20`,children:e.jsx("div",{className:"w-6 h-6 bg-white rounded-lg"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:`font-semibold ${s.text} text-lg`,children:[c("user.name")," - UCL"]}),e.jsxs("p",{className:`${s.textSecondary} text-sm flex items-center`,children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 mr-2"}),b.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})," ",c("user.status")]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>v(d==="zh"?"en":"zh"),className:`p-2 ${s.card} rounded-lg border border-white/20 ${s.cardHover} transition-all duration-200 flex items-center space-x-1`,title:d==="zh"?"Switch to English":"切换到中文",children:[e.jsx(ye,{className:`w-4 h-4 ${s.text}`}),e.jsx("span",{className:`text-xs font-medium ${s.text}`,children:d==="zh"?"EN":"中"})]}),e.jsx("button",{className:`p-2 ${s.card} rounded-lg border border-white/20 ${s.cardHover} transition-all duration-200`,children:e.jsx(te,{className:`w-5 h-5 ${s.text}`})})]})]})})}),N&&e.jsx("div",{className:"max-w-4xl mx-auto px-6 py-4",children:e.jsx("div",{className:`${s.card} rounded-2xl p-4 border border-white/20`,children:e.jsx(Me,{onNavigate:k})})}),e.jsx("main",{className:"max-w-4xl mx-auto px-6 py-2",children:r}),e.jsx("nav",{className:`fixed bottom-0 left-0 right-0 backdrop-blur-2xl ${s.navigation} border-t shadow-lg`,children:e.jsx("div",{className:"max-w-4xl mx-auto px-2 py-2",children:e.jsx("div",{className:"grid grid-cols-7 gap-1",children:$.map(w=>{const B=w.icon,D=m===w.id;return e.jsxs("button",{onClick:()=>f(w),className:`
                    flex flex-col items-center py-2 px-1 rounded-lg transition-all duration-200
                    ${D?`${s.button} shadow-md`:`${s.textSecondary} ${s.cardHover}`}
                  `,children:[e.jsxs("div",{className:"relative",children:[e.jsx(B,{className:"w-4 h-4"}),w.badge&&e.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full"})]}),e.jsx("span",{className:"text-xs mt-1 font-medium leading-tight",children:w.label})]},w.id)})})})}),e.jsx("button",{onClick:()=>k("/student/calendar"),className:`fixed bottom-24 right-6 w-12 h-12 ${s.button} rounded-xl shadow-lg hover:scale-105 transition-all duration-200 flex items-center justify-center`,title:"添加新事件",children:e.jsx(Z,{className:"w-5 h-5"})})]})},Ae=()=>{const r=X();return e.jsxs("div",{style:{padding:"20px",backgroundColor:"#f0f8ff",minHeight:"400px"},children:[e.jsx("h1",{style:{color:"#333",marginBottom:"20px"},children:"🎯 学生首页测试"}),e.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",marginBottom:"20px"},children:[e.jsx("h2",{children:"路由信息："}),e.jsxs("p",{children:[e.jsx("strong",{children:"当前路径："})," ",r.pathname]}),e.jsxs("p",{children:[e.jsx("strong",{children:"搜索参数："})," ",r.search]}),e.jsxs("p",{children:[e.jsx("strong",{children:"哈希："})," ",r.hash]})]}),e.jsxs("div",{style:{backgroundColor:"#e8f5e8",padding:"20px",borderRadius:"10px",marginBottom:"20px"},children:[e.jsx("h2",{children:"✅ 如果你能看到这个页面，说明学生路由工作正常！"}),e.jsx("p",{children:"接下来我们需要检查为什么真正的HomePage组件没有显示。"})]}),e.jsxs("div",{style:{backgroundColor:"#fff3cd",padding:"20px",borderRadius:"10px"},children:[e.jsx("h3",{children:"今日概览测试"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"15px",marginTop:"15px"},children:[e.jsxs("div",{style:{backgroundColor:"#dbeafe",padding:"15px",borderRadius:"8px",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#2563eb"},children:"3"}),e.jsx("div",{style:{fontSize:"0.875rem",color:"#1d4ed8"},children:"今日课程"})]}),e.jsxs("div",{style:{backgroundColor:"#fed7aa",padding:"15px",borderRadius:"8px",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#ea580c"},children:"5"}),e.jsx("div",{style:{fontSize:"0.875rem",color:"#c2410c"},children:"待交作业"})]}),e.jsxs("div",{style:{backgroundColor:"#dcfce7",padding:"15px",borderRadius:"8px",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#16a34a"},children:"2"}),e.jsx("div",{style:{fontSize:"0.875rem",color:"#15803d"},children:"新成绩"})]})]})]})]})},ze=()=>{const{grades:r,addGrade:t}=F();return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"relative group mb-8",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-emerald-600 to-green-500 rounded-3xl blur-xl opacity-20 group-hover:opacity-30 transition-opacity"}),e.jsxs("div",{className:"relative bg-gradient-to-tr from-emerald-600 via-green-500 to-teal-400 rounded-3xl p-8 text-white overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white opacity-5 rounded-full -translate-y-32 translate-x-32"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white opacity-5 rounded-full translate-y-24 -translate-x-24"}),e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold mb-2",children:"成绩管理"}),e.jsxs("p",{className:"text-emerald-100 text-lg",children:["本学期已更新 ",r.length," 门课程成绩"]})]}),e.jsx("button",{onClick:()=>{const c=prompt("课程名称");if(!c)return;const d=prompt("作业/考试名称"),v=prompt("成绩（例如 85 或 A）");t({course:c,assignment:d||"Assessment",grade:v||"N/A",date:new Date().toLocaleDateString("zh-CN")})},className:"relative group px-6 py-3 bg-white/10 hover:bg-white/20 rounded-2xl backdrop-blur-lg transition-all duration-300",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"w-5 h-5 text-white group-hover:rotate-180 transition-transform duration-500"}),e.jsx("span",{className:"font-medium text-white",children:"手动添加"})]})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-black/5 rounded-2xl backdrop-blur-lg group-hover:bg-black/10 transition-colors"}),e.jsxs("div",{className:"relative p-4 text-center",children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:"3.8"}),e.jsx("div",{className:"text-sm text-emerald-100",children:"平均GPA"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-black/5 rounded-2xl backdrop-blur-lg group-hover:bg-black/10 transition-colors"}),e.jsxs("div",{className:"relative p-4 text-center",children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:"85%"}),e.jsx("div",{className:"text-sm text-emerald-100",children:"及格率"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-black/5 rounded-2xl backdrop-blur-lg group-hover:bg-black/10 transition-colors"}),e.jsxs("div",{className:"relative p-4 text-center",children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:"92"}),e.jsx("div",{className:"text-sm text-emerald-100",children:"最高分"})]})]})]})]})]}),e.jsx("div",{className:"grid gap-4",children:r.map((c,d)=>e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl shadow-gray-200/50 group-hover:shadow-2xl group-hover:shadow-gray-300/50 transition-all duration-300"}),e.jsxs("div",{className:"relative p-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-5",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-emerald-500 to-green-400 rounded-2xl blur-lg opacity-40 group-hover:opacity-60 transition-opacity"}),e.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-tr from-emerald-500 to-green-400 rounded-2xl flex items-center justify-center shadow-lg shadow-emerald-500/20",children:e.jsx(W,{className:"w-8 h-8 text-white transform group-hover:scale-110 transition-transform"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:c.course}),e.jsx("p",{className:"text-base text-gray-600 mb-1",children:c.assignment}),e.jsx("p",{className:"text-sm text-gray-500",children:c.date})]})]}),e.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-emerald-600 to-green-500 bg-clip-text text-transparent transform group-hover:scale-110 transition-transform",children:c.grade})]})]},d))})]})},Pe=()=>{const{jobFairs:r}=F(),{t}=_(),[c,d]=y.useState("events"),v=[{id:"job-board",title:t("jobs.services.jobBoard"),description:t("jobs.services.jobBoardDesc"),url:"https://www.ucl.ac.uk/careers/opportunities/jobs-and-internships",icon:U},{id:"cv-service",title:t("jobs.services.cvService"),description:t("jobs.services.cvServiceDesc"),url:"https://www.ucl.ac.uk/careers/applications-and-interviews/cvs-and-applications",icon:K},{id:"career-consulting",title:t("jobs.services.careerConsulting"),description:t("jobs.services.careerConsultingDesc"),url:"https://www.ucl.ac.uk/careers/about-us/appointments",icon:ie},{id:"skills-workshops",title:t("jobs.services.workshops"),description:t("jobs.services.workshopsDesc"),url:"https://www.ucl.ac.uk/careers/resources",icon:W}],h=[{id:"interview-prep",title:t("jobs.resources.interviewPrep"),description:t("jobs.resources.interviewPrepDesc"),url:"https://www.ucl.ac.uk/careers/applications-and-interviews/interviews"},{id:"industry-insights",title:t("jobs.resources.industryInsights"),description:t("jobs.resources.industryInsightsDesc"),url:"https://www.ucl.ac.uk/careers/resources/information-different-sectors"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:e.jsx("div",{className:"flex space-x-4 border-b",children:["events","services","resources"].map(a=>e.jsx("button",{onClick:()=>d(a),className:`pb-2 px-2 ${c===a?"border-b-2 border-purple-600 text-purple-600 font-medium":"text-gray-600"}`,children:t(`jobs.tabs.${a}`)},a))})}),e.jsxs("div",{className:"space-y-6",children:[c==="events"&&e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:t("jobs.events.title")}),e.jsx("div",{className:"grid gap-4",children:r.map(a=>e.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-violet-600 rounded-lg flex items-center justify-center",children:e.jsx(U,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:a.title}),e.jsxs("p",{className:"text-sm text-gray-600 flex items-center mt-1",children:[e.jsx(H,{className:"w-4 h-4 mr-1"}),a.date]}),e.jsxs("p",{className:"text-sm text-gray-600 flex items-center mt-1",children:[e.jsx(Y,{className:"w-4 h-4 mr-1"}),a.location]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:a.companies.map((p,k)=>e.jsx("span",{className:"px-2 py-1 bg-purple-50 text-purple-600 text-xs rounded",children:p},k))})]})]}),e.jsx("button",{className:"px-4 py-2 bg-purple-600 text-white rounded-lg text-sm hover:bg-purple-700 transition-colors",children:t("jobs.events.register")})]})},a.id))})]}),c==="services"&&e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:t("jobs.services.title")}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:v.map(a=>e.jsx("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"p-4 border border-gray-200 rounded-lg hover:shadow-md transition-all hover:border-purple-200 group",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center group-hover:bg-purple-600 transition-colors",children:e.jsx(a.icon,{className:"w-5 h-5 text-purple-600 group-hover:text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:a.title}),e.jsx(re,{className:"w-4 h-4 text-gray-400 group-hover:text-purple-600"})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a.description})]})]})},a.id))})]}),c==="resources"&&e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:t("jobs.resources.title")}),e.jsx("div",{className:"grid gap-4",children:h.map(a=>e.jsx("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"p-4 border border-gray-200 rounded-lg hover:shadow-md transition-all group",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-purple-600",children:a.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a.description})]}),e.jsx("div",{className:"w-10 h-10 bg-purple-50 rounded-lg flex items-center justify-center group-hover:bg-purple-600",children:e.jsx(L,{className:"w-5 h-5 text-purple-600 group-hover:text-white"})})]})},a.id))})]})]})]})},Le=()=>{const{getThemeConfig:r}=G(),t=r(),c=[{title:"Academic Registry",desc:"Transcripts, enrollment, records",icon:K,color:"blue"},{title:"Student Support",desc:"Counseling, financial aid",icon:I,color:"green"},{title:"Campus Map",desc:"Buildings, facilities, navigation",icon:Y,color:"purple"},{title:"Events Calendar",desc:"Lectures, workshops, deadlines",icon:H,color:"orange"},{title:"Student Organizations",desc:"Clubs, societies, activities",icon:ie,color:"pink"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:`text-2xl font-light ${t.text}`,children:"Campus Services"}),e.jsx("div",{className:"grid gap-4",children:c.map((d,v)=>{const h=d.icon;return e.jsx("div",{className:`${t.card} rounded-xl p-6 border border-white/20 ${t.cardHover} cursor-pointer transition-all duration-200`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-12 h-12 bg-${d.color}-500/20 rounded-xl flex items-center justify-center`,children:e.jsx(h,{className:`w-6 h-6 text-${d.color}-400`})}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium ${t.text} mb-1`,children:d.title}),e.jsx("p",{className:`text-sm ${t.textSecondary}`,children:d.desc})]})]}),e.jsx(re,{className:`w-5 h-5 ${t.textMuted}`})]})},v)})}),e.jsxs("div",{className:`${t.card} rounded-xl p-6 border border-white/20`,children:[e.jsx("h3",{className:`text-lg font-medium ${t.text} mb-4`,children:"Quick Links"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:["Moodle","Library","Timetable","Grades","Email","WiFi"].map(d=>e.jsx("button",{className:`p-3 ${t.buttonSecondary} rounded-lg border border-white/20 text-sm font-medium transition-all duration-200`,children:d},d))})]})]})},Ee=()=>{const{t:r}=_(),{events:t,addEvent:c}=F(),[d,v]=y.useState(new Date),[h,a]=y.useState("month"),[p,k]=y.useState(new Date),[b,S]=y.useState(!1),[m,s]=y.useState({class_event:!0,assignment_due:!0,exam:!0,club_activity:!0}),C=()=>{const i=d.getFullYear(),l=d.getMonth(),o=new Date(i,l,1),g=new Date(i,l+1,0),z=o.getDay(),T=g.getDate(),P=[];for(let j=z-1;j>=0;j--){const E=new Date(i,l,-j);P.push({date:E,isCurrentMonth:!1})}for(let j=1;j<=T;j++){const E=new Date(i,l,j);P.push({date:E,isCurrentMonth:!0})}const O=42-P.length;for(let j=1;j<=O;j++){const E=new Date(i,l+1,j);P.push({date:E,isCurrentMonth:!1})}return P},$=()=>{const i=new Date(d);i.setDate(d.getDate()-d.getDay());const l=[];for(let o=0;o<7;o++){const g=new Date(i);g.setDate(i.getDate()+o),l.push(g)}return l},f=i=>t.filter(l=>new Date(l.start_at||l.due_at).toDateString()===i.toDateString()&&m[l.type]),N=i=>({class_event:"bg-blue-500 text-white",assignment_due:"bg-red-500 text-white",exam:"bg-purple-500 text-white",club_activity:"bg-green-500 text-white"})[i]||"bg-gray-500 text-white",w=()=>{const i=C(),l=[r("calendar.weekdays.sun"),r("calendar.weekdays.mon"),r("calendar.weekdays.tue"),r("calendar.weekdays.wed"),r("calendar.weekdays.thu"),r("calendar.weekdays.fri"),r("calendar.weekdays.sat")];return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"grid grid-cols-7 border-b border-gray-200",children:l.map(o=>e.jsx("div",{className:"p-3 text-center text-sm font-medium text-gray-500 bg-gray-50",children:o},o))}),e.jsx("div",{className:"grid grid-cols-7",children:i.map(({date:o,isCurrentMonth:g},z)=>{const T=f(o),P=o.toDateString()===new Date().toDateString(),O=o.toDateString()===p.toDateString();return e.jsxs("div",{className:`min-h-[120px] border-r border-b border-gray-100 p-2 cursor-pointer hover:bg-gray-50 transition-colors ${g?"":"bg-gray-50/50 text-gray-400"}`,onClick:()=>{k(new Date(o)),a("day")},children:[e.jsx("div",{className:`text-sm font-medium mb-2 ${P?"bg-blue-600 text-white w-6 h-6 rounded-full flex items-center justify-center":O?"bg-blue-100 text-blue-600 w-6 h-6 rounded-full flex items-center justify-center":""}`,children:o.getDate()}),e.jsxs("div",{className:"space-y-1",children:[T.slice(0,3).map((j,E)=>e.jsx("div",{className:`text-xs px-1.5 py-0.5 rounded truncate ${N(j.type)}`,title:j.title&&typeof j.title=="object"?j.title[j.language||"zh"]||j.title.zh||j.title.en:j.title,children:j.title},E)),T.length>3&&e.jsx("div",{className:"text-xs text-gray-500",children:r("calendar.moreEvents",{count:T.length-3})})]})]},z)})})]})},B=()=>{const i=$(),l=Array.from({length:24},(o,g)=>g);return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"grid grid-cols-8 border-b border-gray-200",children:[e.jsx("div",{className:"p-3 bg-gray-50"}),i.map(o=>{const g=o.toDateString()===new Date().toDateString();return e.jsxs("div",{className:`p-3 text-center ${g?"bg-blue-50":"bg-gray-50"}`,children:[e.jsx("div",{className:"text-sm text-gray-500",children:o.toLocaleDateString("zh-CN",{weekday:"short"})}),e.jsx("div",{className:`text-lg font-semibold ${g?"text-blue-600":"text-gray-900"}`,children:o.getDate()})]},o.toISOString())})]}),e.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:e.jsxs("div",{className:"grid grid-cols-8",children:[e.jsx("div",{className:"border-r border-gray-200",children:l.map(o=>e.jsxs("div",{className:"h-16 border-b border-gray-100 p-2 text-xs text-gray-500",children:[o.toString().padStart(2,"0"),":00"]},o))}),i.map(o=>e.jsx("div",{className:"border-r border-gray-200",children:l.map(g=>{const z=f(o).filter(T=>T.start_at?new Date(T.start_at).getHours()===g:!1);return e.jsx("div",{className:"h-16 border-b border-gray-100 p-1 relative",children:z.map((T,P)=>e.jsx("div",{className:`absolute left-1 right-1 top-1 bottom-1 rounded text-xs p-1 ${N(T.type)} truncate`,title:T.title,children:T.title},P))},g)})},o.toISOString()))]})})]})},D=()=>{const i=f(p).sort((l,o)=>{const g=new Date(l.start_at||l.due_at).getTime(),z=new Date(o.start_at||o.due_at).getTime();return g-z});return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:p.toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric",weekday:"long"})}),e.jsx("p",{className:"text-gray-600 mt-1",children:r("calendar.eventsCount",{count:i.length})})]}),e.jsx("div",{className:"space-y-3",children:i.length===0?e.jsxs("div",{className:"bg-white rounded-xl p-8 border border-gray-200 text-center",children:[e.jsx(H,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:r("calendar.noEventsToday")})]}):i.map((l,o)=>e.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:l.title}),l.course&&e.jsx("span",{className:`inline-block px-3 py-1 text-sm font-medium rounded-full ${N(l.type)}`,children:l.course}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[l.start_at&&e.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[e.jsx(R,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:new Date(l.start_at).toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"})})]}),l.location&&e.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[e.jsx(Y,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:l.location})]}),l.teacher&&e.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[e.jsx(ae,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:l.teacher})]})]})]})})},o))})]})},M=i=>{const l=new Date(d);h==="month"?l.setMonth(d.getMonth()+i):h==="week"?l.setDate(d.getDate()+i*7):l.setDate(d.getDate()+i),v(l),h==="day"&&k(l)},n=()=>{const i=new Date;v(i),k(i)},x=()=>{if(h==="month")return d.toLocaleDateString("zh-CN",{year:"numeric",month:"long"});if(h==="week"){const i=$(),l=i[0],o=i[6];return l.getMonth()===o.getMonth()?`${l.getFullYear()}年${l.getMonth()+1}月 ${l.getDate()}-${o.getDate()}日`:`${l.toLocaleDateString("zh-CN",{month:"short",day:"numeric"})} - ${o.toLocaleDateString("zh-CN",{month:"short",day:"numeric"})}`}else return p.toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"})};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r("calendar.title")}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>M(-1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(pe,{className:"w-5 h-5 text-gray-600"})}),e.jsx("button",{onClick:n,className:"px-3 py-1 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:r("calendar.today")}),e.jsx("button",{onClick:()=>M(1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(q,{className:"w-5 h-5 text-gray-600"})})]}),e.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:x()})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>S(!b),className:"flex items-center space-x-2 px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[e.jsx(le,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:r("calendar.filter")})]}),e.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[e.jsxs("button",{onClick:()=>a("month"),className:`flex items-center space-x-1 px-3 py-1 rounded text-sm font-medium transition-colors ${h==="month"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(ve,{className:"w-4 h-4"}),e.jsx("span",{children:r("calendar.month")})]}),e.jsxs("button",{onClick:()=>a("week"),className:`flex items-center space-x-1 px-3 py-1 rounded text-sm font-medium transition-colors ${h==="week"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(ge,{className:"w-4 h-4"}),e.jsx("span",{children:r("calendar.week")})]}),e.jsxs("button",{onClick:()=>a("day"),className:`flex items-center space-x-1 px-3 py-1 rounded text-sm font-medium transition-colors ${h==="day"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(ke,{className:"w-4 h-4"}),e.jsx("span",{children:r("calendar.day")})]})]}),e.jsxs("button",{onClick:()=>{const i=prompt("事件标题");if(!i)return;const l=prompt("开始时间（例如 14:00）"),[o,g]=(l||"09:00").split(":"),z=new Date(p);z.setHours(Number(o)||9,Number(g)||0,0,0),c({title:i,type:"class_event",start_at:z.toISOString()}),alert("已添加到日历")},className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Z,{className:"w-4 h-4"}),e.jsx("span",{children:r("calendar.addEvent")})]})]})]}),b&&e.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:r("calendar.showEventTypes")}),e.jsx("div",{className:"grid grid-cols-4 gap-4",children:Object.entries(m).map(([i,l])=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",name:`filter-${i}`,id:`filter-${i}`,checked:l,onChange:o=>s(g=>({...g,[i]:o.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:r(`calendar.eventTypes.${i}`)})]},i))})]})]}),h==="month"&&e.jsx(w,{}),h==="week"&&e.jsx(B,{}),h==="day"&&e.jsx(D,{})]})},He=()=>{const{getThemeConfig:r}=G(),t=r(),[c,d]=y.useState("all"),v=["all","assignments","notifications","promotions","spam"],h=[{id:1,from:"Prof. Smith",subject:"Assignment 2 Feedback",time:"2h ago",category:"assignments",unread:!0},{id:2,from:"UCL Registry",subject:"Semester Results Available",time:"1d ago",category:"notifications",unread:!1},{id:3,from:"Career Services",subject:"Tech Career Fair 2024",time:"3d ago",category:"promotions",unread:!1}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:`text-2xl font-light ${t.text}`,children:"Mail"}),e.jsx("button",{className:`p-2 ${t.card} rounded-lg border border-white/20`,children:e.jsx(le,{className:`w-5 h-5 ${t.text}`})})]}),e.jsxs("div",{className:`${t.card} rounded-xl p-4 border border-white/20`,children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(Se,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${t.textMuted}`}),e.jsx("input",{className:`w-full pl-10 pr-4 py-3 bg-white/5 border border-white/10 rounded-lg ${t.text} placeholder-white/40`,placeholder:"Search emails..."})]}),e.jsx("div",{className:"flex space-x-2 mb-4 overflow-x-auto",children:v.map(a=>e.jsx("button",{onClick:()=>d(a),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all whitespace-nowrap ${c===a?t.button:`${t.textSecondary} ${t.cardHover}`}`,children:a.charAt(0).toUpperCase()+a.slice(1)},a))}),e.jsx("div",{className:"space-y-3",children:h.filter(a=>c==="all"||a.category===c).map(a=>e.jsx("div",{className:`p-4 rounded-lg border border-white/10 ${t.cardHover} cursor-pointer`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[e.jsx("span",{className:`font-medium ${a.unread?t.text:t.textSecondary}`,children:a.from}),a.unread&&e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),e.jsx("h3",{className:`${t.text} mb-1`,children:a.subject}),e.jsx("span",{className:`text-sm ${t.textMuted}`,children:a.time})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:`p-1 ${t.textMuted} hover:${t.text}`,children:e.jsx(me,{className:"w-4 h-4"})}),e.jsx("button",{className:`p-1 ${t.textMuted} hover:text-red-400`,children:e.jsx(ne,{className:"w-4 h-4"})})]})]})},a.id))})]})]})},_e=()=>e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"relative group mb-8",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-red-600 to-rose-500 rounded-3xl blur-xl opacity-20 group-hover:opacity-30 transition-opacity"}),e.jsxs("div",{className:"relative bg-gradient-to-tr from-red-600 via-rose-500 to-pink-500 rounded-3xl p-8 text-white overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white opacity-5 rounded-full -translate-y-32 translate-x-32"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white opacity-5 rounded-full translate-y-24 -translate-x-24"}),e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"紧急联系"}),e.jsx("p",{className:"text-red-100 text-lg mb-4",children:"如遇紧急情况，请立即拨打以下电话获取帮助"}),e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-black/5 rounded-2xl backdrop-blur-lg group-hover:bg-black/10 transition-colors"}),e.jsxs("div",{className:"relative p-4 text-center",children:[e.jsx(I,{className:"w-6 h-6 text-white mx-auto mb-2"}),e.jsx("div",{className:"text-sm text-red-100",children:"24/7全天候支持"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-black/5 rounded-2xl backdrop-blur-lg group-hover:bg-black/10 transition-colors"}),e.jsxs("div",{className:"relative p-4 text-center",children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:"112"}),e.jsx("div",{className:"text-sm text-red-100",children:"英国报警电话"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-black/5 rounded-2xl backdrop-blur-lg group-hover:bg-black/10 transition-colors"}),e.jsxs("div",{className:"relative p-4 text-center",children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:"999"}),e.jsx("div",{className:"text-sm text-red-100",children:"救护车"})]})]})]})]})]}),e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500 to-rose-500 rounded-2xl blur-lg opacity-0 group-hover:opacity-20 transition-opacity"}),e.jsxs("button",{className:"relative w-full flex items-center justify-between p-6 bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl shadow-red-500/5 hover:shadow-2xl hover:shadow-red-500/10 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-red-500 to-rose-400 rounded-xl blur-lg opacity-40 group-hover:opacity-60 transition-opacity"}),e.jsx("div",{className:"relative w-14 h-14 bg-gradient-to-tr from-red-500 to-rose-400 rounded-xl flex items-center justify-center",children:e.jsx(I,{className:"w-7 h-7 text-white transform group-hover:rotate-12 transition-transform"})})]}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-lg font-semibold text-gray-900 mb-1",children:"呼叫家长"}),e.jsx("p",{className:"text-base text-gray-600",children:"一键拨号"})]})]}),e.jsx("div",{className:"w-10 h-10 bg-red-50 rounded-xl flex items-center justify-center group-hover:bg-red-100 transition-colors",children:e.jsx("span",{className:"text-red-600 text-lg font-bold transform group-hover:translate-x-1 transition-transform",children:"→"})})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-2xl blur-lg opacity-0 group-hover:opacity-20 transition-opacity"}),e.jsxs("button",{className:"relative w-full flex items-center justify-between p-6 bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl shadow-blue-500/5 hover:shadow-2xl hover:shadow-blue-500/10 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-blue-500 to-indigo-400 rounded-xl blur-lg opacity-40 group-hover:opacity-60 transition-opacity"}),e.jsx("div",{className:"relative w-14 h-14 bg-gradient-to-tr from-blue-500 to-indigo-400 rounded-xl flex items-center justify-center",children:e.jsx(I,{className:"w-7 h-7 text-white transform group-hover:rotate-12 transition-transform"})})]}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-lg font-semibold text-gray-900 mb-1",children:"UCL学生服务"}),e.jsx("p",{className:"text-base text-gray-600",children:"24小时热线"})]})]}),e.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-xl flex items-center justify-center group-hover:bg-blue-100 transition-colors",children:e.jsx("span",{className:"text-blue-600 text-lg font-bold transform group-hover:translate-x-1 transition-transform",children:"→"})})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-500 to-green-500 rounded-2xl blur-lg opacity-0 group-hover:opacity-20 transition-opacity"}),e.jsxs("button",{className:"relative w-full flex items-center justify-between p-6 bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl shadow-emerald-500/5 hover:shadow-2xl hover:shadow-emerald-500/10 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-emerald-500 to-green-400 rounded-xl blur-lg opacity-40 group-hover:opacity-60 transition-opacity"}),e.jsx("div",{className:"relative w-14 h-14 bg-gradient-to-tr from-emerald-500 to-green-400 rounded-xl flex items-center justify-center",children:e.jsx(I,{className:"w-7 h-7 text-white transform group-hover:rotate-12 transition-transform"})})]}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-lg font-semibold text-gray-900 mb-1",children:"中国领事馆"}),e.jsx("p",{className:"text-base text-gray-600",children:"紧急求助"})]})]}),e.jsx("div",{className:"w-10 h-10 bg-emerald-50 rounded-xl flex items-center justify-center group-hover:bg-emerald-100 transition-colors",children:e.jsx("span",{className:"text-emerald-600 text-lg font-bold transform group-hover:translate-x-1 transition-transform",children:"→"})})]})]})]})]}),Be=()=>{const{theme:r,setTheme:t,backgroundStyle:c,setBackgroundStyle:d,blurIntensity:v,setBlurIntensity:h,transparency:a,setTransparency:p,backgrounds:k,themes:b,getThemeConfig:S}=G(),m=S();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:`rounded-xl p-4 border ${m.card}`,children:[e.jsx("h3",{className:`text-lg font-medium mb-3 ${m.text}`,children:"Theme"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:b.map(s=>e.jsx("button",{onClick:()=>t(s),className:`px-3 py-2 rounded-lg text-sm font-medium border ${r===s?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200"}`,children:s},s))})]}),e.jsxs("div",{className:`rounded-xl p-4 border ${m.card}`,children:[e.jsx("h3",{className:`text-lg font-medium mb-3 ${m.text}`,children:"Background"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:k.map(s=>e.jsx("button",{onClick:()=>d(s),className:`px-3 py-2 rounded-lg text-sm font-medium border ${c===s?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200"}`,children:s},s))})]}),e.jsxs("div",{className:`rounded-xl p-4 border ${m.card}`,children:[e.jsx("h3",{className:`text-lg font-medium mb-3 ${m.text}`,children:"Effects"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Blur (xl steps)"}),e.jsx("input",{type:"range",min:0,max:5,step:1,value:v,onChange:s=>h(Number(s.target.value)),className:"w-full"}),e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[v,"x"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Transparency (%)"}),e.jsx("input",{type:"range",min:0,max:50,step:5,value:a,onChange:s=>p(Number(s.target.value)),className:"w-full"}),e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[a,"%"]})]})]})]})]})},Ie=()=>{const{selectedProvider:r,userType:t}=F(),{t:c,language:d,changeLanguage:v}=_(),[h,a]=y.useState({profile:!0,academic:!1,notifications:!1,privacy:!1,app:!1,connections:!1,support:!1,parent:!1}),[p,k]=y.useState(!1),[b,S]=y.useState({name:c("user.name"),university:c("user.university"),studentId:"ZCAB1234",email:"zhang.wei.23@ucl.ac.uk",phone:"+44 7700 123456",year:"2023/24",programme:"MSc Computer Science"}),[m,s]=y.useState({assignments:!0,grades:!0,events:!0,emails:!1,deadlines:!0,calendar:!0}),[C,$]=y.useState({parentAccess:{courses:!0,assignments:!0,grades:!1,activities:!0,location:!1},dataSharing:{analytics:!0,research:!1,marketing:!1}}),[f,N]=y.useState({language:d,theme:"light",timezone:"Europe/London",autoSync:"daily"}),w=n=>{a(x=>({...x,[n]:!x[n]}))},B=()=>{k(!1)},D=({id:n,title:x,icon:i,children:l,badge:o=null})=>{const g=h[n];return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[e.jsxs("button",{onClick:()=>w(n),className:"w-full p-4 flex items-center justify-between hover:bg-gray-50 transition-colors rounded-t-xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(i,{className:"w-4 h-4 text-blue-600"})}),e.jsx("span",{className:"font-semibold text-gray-900",children:x}),o&&e.jsx("span",{className:"bg-red-100 text-red-600 text-xs px-2 py-1 rounded-full",children:o})]}),g?e.jsx(ue,{className:"w-5 h-5 text-gray-400"}):e.jsx(q,{className:"w-5 h-5 text-gray-400"})]}),g&&e.jsx("div",{className:"p-4 pt-0 border-t border-gray-100",children:l})]})},M=({enabled:n,onChange:x,label:i,description:l})=>e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:i}),l&&e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:l})]}),e.jsx("button",{onClick:()=>x(!n),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n?"translate-x-6":"translate-x-1"}`})})]});return e.jsxs("div",{className:"space-y-4 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:c("settings.title")}),e.jsx("p",{className:"text-gray-600",children:c("settings.description")})]}),e.jsx(D,{id:"profile",title:c("settings.profile.title"),icon:ae,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold text-lg",children:"张"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"头像"}),e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"点击上传新头像"}),e.jsx("button",{className:"text-blue-600 text-sm font-medium",children:"更改头像"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"基本信息"}),e.jsxs("button",{onClick:()=>p?B():k(!0),className:"flex items-center space-x-1 text-blue-600 text-sm font-medium",children:[p?e.jsx(Ce,{className:"w-4 h-4"}):e.jsx(Q,{className:"w-4 h-4"}),e.jsx("span",{children:p?"保存":"编辑"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"profile-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"姓名"}),p?e.jsx("input",{id:"profile-name",name:"profile-name",type:"text",value:b.name,onChange:n=>S(x=>({...x,name:n.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):e.jsx("p",{className:"text-gray-900",children:b.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"profile-student-id",className:"block text-sm font-medium text-gray-700 mb-1",children:"学号"}),p?e.jsx("input",{id:"profile-student-id",name:"profile-student-id",type:"text",value:b.studentId,onChange:n=>S(x=>({...x,studentId:n.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):e.jsx("p",{className:"text-gray-900",children:b.studentId})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"profile-email",className:"block text-sm font-medium text-gray-700 mb-1",children:"邮箱"}),p?e.jsx("input",{id:"profile-email",name:"profile-email",type:"email",value:b.email,onChange:n=>S(x=>({...x,email:n.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):e.jsx("p",{className:"text-gray-900",children:b.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"profile-phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"电话"}),p?e.jsx("input",{id:"profile-phone",name:"profile-phone",type:"tel",value:b.phone,onChange:n=>S(x=>({...x,phone:n.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):e.jsx("p",{className:"text-gray-900",children:b.phone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"大学"}),e.jsx("p",{className:"text-gray-900",children:b.university})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"专业"}),e.jsx("p",{className:"text-gray-900",children:b.programme})]})]})]})]})}),e.jsx(D,{id:"academic",title:"学术设置",icon:L,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"select-academic-year",className:"block text-sm font-medium text-gray-700 mb-2",children:"学年选择"}),e.jsxs("select",{id:"select-academic-year",name:"select-academic-year",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"2023/24",children:"2023/24学年"}),e.jsx("option",{value:"2024/25",children:"2024/25学年"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"成绩显示偏好"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"gradeDisplay",value:"percentage",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"百分比 (70%)"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"gradeDisplay",value:"letter",className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"字母等级 (A, B, C)"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"gradeDisplay",value:"gpa",className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"GPA (4.0)"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"日历同步"}),e.jsx(M,{enabled:!0,onChange:()=>{},label:"Moodle日历同步",description:"自动同步课程和作业截止日期"}),e.jsx(M,{enabled:!1,onChange:()=>{},label:"Google Calendar同步",description:"将学术事件同步到Google日历"})]})]})}),e.jsx(D,{id:"notifications",title:"通知管理",icon:te,badge:"3",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(M,{enabled:m.assignments,onChange:n=>s(x=>({...x,assignments:n})),label:"作业截止提醒",description:"在作业截止前24小时和1小时提醒"}),e.jsx(M,{enabled:m.grades,onChange:n=>s(x=>({...x,grades:n})),label:"成绩更新通知",description:"有新成绩发布时立即通知"}),e.jsx(M,{enabled:m.events,onChange:n=>s(x=>({...x,events:n})),label:"活动通知",description:"社团活动和学校活动提醒"}),e.jsx(M,{enabled:m.emails,onChange:n=>s(x=>({...x,emails:n})),label:"邮件同步",description:"同步学校邮箱的重要邮件"}),e.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"通知时间设置"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"quiet-start",className:"block text-sm text-gray-700 mb-1",children:"安静时间开始"}),e.jsx("input",{id:"quiet-start",name:"quiet-start",type:"time",defaultValue:"22:00",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"quiet-end",className:"block text-sm text-gray-700 mb-1",children:"安静时间结束"}),e.jsx("input",{id:"quiet-end",name:"quiet-end",type:"time",defaultValue:"08:00",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]})]})}),e.jsx(D,{id:"privacy",title:"隐私与安全",icon:$e,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"家长访问控制"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{enabled:C.parentAccess.courses,onChange:n=>$(x=>({...x,parentAccess:{...x.parentAccess,courses:n}})),label:"课程信息可见",description:"家长可以查看课程表和课程详情"}),e.jsx(M,{enabled:C.parentAccess.assignments,onChange:n=>$(x=>({...x,parentAccess:{...x.parentAccess,assignments:n}})),label:"作业进度可见",description:"家长可以查看作业截止日期和完成状态"}),e.jsx(M,{enabled:C.parentAccess.grades,onChange:n=>$(x=>({...x,parentAccess:{...x.parentAccess,grades:n}})),label:"成绩信息可见",description:"家长可以查看考试成绩和GPA"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"数据管理"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{className:"flex items-center space-x-2 text-blue-600 font-medium",children:[e.jsx(be,{className:"w-4 h-4"}),e.jsx("span",{children:"导出我的数据"})]}),e.jsxs("button",{className:"flex items-center space-x-2 text-blue-600 font-medium",children:[e.jsx(De,{className:"w-4 h-4"}),e.jsx("span",{children:"备份设置"})]}),e.jsxs("button",{className:"flex items-center space-x-2 text-red-600 font-medium",children:[e.jsx(ne,{className:"w-4 h-4"}),e.jsx("span",{children:"删除账户"})]})]})]})]})}),e.jsx(D,{id:"app",title:"应用设置",icon:se,children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(Be,{}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"语言选择"}),e.jsxs("select",{value:f.language,onChange:n=>N(x=>({...x,language:n.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"zh-CN",children:"中文 (简体)"}),e.jsx("option",{value:"zh-TW",children:"中文 (繁体)"}),e.jsx("option",{value:"en-GB",children:"English (UK)"}),e.jsx("option",{value:"en-US",children:"English (US)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"主题选择"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("button",{className:`p-3 border rounded-lg text-center ${f.theme==="light"?"border-blue-500 bg-blue-50":"border-gray-300"}`,onClick:()=>N(n=>({...n,theme:"light"})),children:[e.jsx("div",{className:"w-6 h-6 bg-white border border-gray-300 rounded mx-auto mb-1"}),e.jsx("span",{className:"text-xs",children:"浅色"})]}),e.jsxs("button",{className:`p-3 border rounded-lg text-center ${f.theme==="dark"?"border-blue-500 bg-blue-50":"border-gray-300"}`,onClick:()=>N(n=>({...n,theme:"dark"})),children:[e.jsx("div",{className:"w-6 h-6 bg-gray-800 rounded mx-auto mb-1"}),e.jsx("span",{className:"text-xs",children:"深色"})]}),e.jsxs("button",{className:`p-3 border rounded-lg text-center ${f.theme==="auto"?"border-blue-500 bg-blue-50":"border-gray-300"}`,onClick:()=>N(n=>({...n,theme:"auto"})),children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-white to-gray-800 rounded mx-auto mb-1"}),e.jsx("span",{className:"text-xs",children:"自动"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"时区"}),e.jsxs("select",{value:f.timezone,onChange:n=>N(x=>({...x,timezone:n.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"Europe/London",children:"伦敦 (GMT+0)"}),e.jsx("option",{value:"Asia/Shanghai",children:"北京 (GMT+8)"}),e.jsx("option",{value:"America/New_York",children:"纽约 (GMT-5)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"自动同步频率"}),e.jsxs("select",{value:f.autoSync,onChange:n=>N(x=>({...x,autoSync:n.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"realtime",children:"实时同步"}),e.jsx("option",{value:"hourly",children:"每小时"}),e.jsx("option",{value:"daily",children:"每日"}),e.jsx("option",{value:"manual",children:"手动同步"})]})]})]})}),e.jsx(D,{id:"connections",title:"连接服务",icon:we,children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(ee,{className:"w-4 h-4 text-red-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Gmail"}),e.jsx("div",{className:"text-sm text-gray-500",children:"zhang.wei@gmail.com"})]})]}),e.jsx("button",{className:"text-green-600 text-sm font-medium",children:"已连接"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx(L,{className:"w-4 h-4 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Moodle"}),e.jsx("div",{className:"text-sm text-gray-500",children:"UCL官方学习平台"})]})]}),e.jsx("button",{className:"text-blue-600 text-sm font-medium",children:"连接"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(H,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Google Calendar"}),e.jsx("div",{className:"text-sm text-gray-500",children:"日历同步服务"})]})]}),e.jsx("button",{className:"text-blue-600 text-sm font-medium",children:"连接"})]})]})})}),e.jsx(D,{id:"support",title:"支持与反馈",icon:fe,children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{className:"flex items-center justify-between w-full p-3 text-left hover:bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(K,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"font-medium text-gray-900",children:"帮助中心"})]}),e.jsx(q,{className:"w-5 h-5 text-gray-400"})]}),e.jsxs("button",{className:"flex items-center justify-between w-full p-3 text-left hover:bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(oe,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"font-medium text-gray-900",children:"报告问题"})]}),e.jsx(q,{className:"w-5 h-5 text-gray-400"})]}),e.jsxs("button",{className:"flex items-center justify-between w-full p-3 text-left hover:bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Q,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"font-medium text-gray-900",children:"功能建议"})]}),e.jsx(q,{className:"w-5 h-5 text-gray-400"})]}),e.jsx("div",{className:"pt-3 border-t border-gray-100",children:e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsx("p",{className:"mb-1",children:"版本信息：v1.2.0"}),e.jsx("p",{children:"最后更新：2025年8月27日"})]})})]})}),t==="parent"&&e.jsx(D,{id:"parent",title:"家长监护设置",icon:je,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"监护级别"}),e.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"full",children:"完全监护 - 查看所有信息"}),e.jsx("option",{value:"limited",children:"有限监护 - 仅查看学术信息"}),e.jsx("option",{value:"minimal",children:"最小监护 - 仅查看紧急信息"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"报告频率"}),e.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"daily",children:"每日报告"}),e.jsx("option",{value:"weekly",children:"每周报告"}),e.jsx("option",{value:"monthly",children:"每月报告"}),e.jsx("option",{value:"ondemand",children:"按需获取"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"紧急联系方式"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"tel",placeholder:"主要联系电话",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("input",{type:"tel",placeholder:"备用联系电话",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]})})]})};function qe(){const{t:r}=_(),[t,c]=y.useState([{id:1,from:"ai",text:r?r("ai.welcome"):"Hello, I am your assistant."}]),[d,v]=y.useState(""),[h,a]=y.useState(!1),[p,k]=y.useState(""),b=m=>new Promise(s=>{setTimeout(()=>{s({text:`AI（模拟）: 我收到了“${m}”，这是一个演示回应。`})},700)}),S=async()=>{var s,C,$;if(!d.trim())return;const m={id:Date.now(),from:"user",text:d};c(f=>[...f,m]),v(""),a(!0);try{let f;if(p.trim()){const N=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`},body:JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are a helpful assistant for students."},{role:"user",content:d}],temperature:.6})});if(!N.ok)throw new Error("OpenAI API failed");const w=await N.json();f={text:(($=(C=(s=w==null?void 0:w.choices)==null?void 0:s[0])==null?void 0:C.message)==null?void 0:$.content)||"没有回复"}}else f=await b(d);c(N=>[...N,{id:Date.now()+1,from:"ai",text:f.text}])}catch(f){c(N=>[...N,{id:Date.now()+2,from:"ai",text:"AI 服务不可用："+f.message}])}finally{a(!1)}};return e.jsxs("div",{className:"p-4 max-w-2xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-semibold mb-4",children:r("ai.title")||"AI 助手"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"ai-api-key",className:"block text-sm text-gray-600 mb-1",children:r("ai.apiKey")||"OpenAI API Key (可选)"}),e.jsx("input",{id:"ai-api-key",name:"ai-api-key",value:p,onChange:m=>k(m.target.value),className:"w-full rounded-md border px-3 py-2",placeholder:"sk-..."}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r("ai.apiKeyHint")||"输入临时 key 可直接调用 OpenAI（自行承担费用），留空则使用本地模拟模式。"})]}),e.jsx("div",{className:"border rounded-lg p-3 h-80 overflow-auto bg-white/70",children:t.map(m=>e.jsx("div",{className:`mb-3 ${m.from==="ai"?"text-left":"text-right"}`,children:e.jsx("div",{className:`inline-block p-3 rounded-xl ${m.from==="ai"?"bg-gray-100 text-gray-900":"bg-blue-600 text-white"}`,children:m.text})},m.id))}),e.jsxs("div",{className:"mt-3 flex space-x-2",children:[e.jsx("label",{htmlFor:"ai-user-input",className:"sr-only",children:r("ai.placeholder")||"请输入问题"}),e.jsx("input",{id:"ai-user-input",name:"ai-user-input",value:d,onChange:m=>v(m.target.value),className:"flex-1 rounded-md border px-3 py-2",placeholder:r("ai.placeholder")||"问我一些关于作业、截止日期或校园服务的问题"}),e.jsx("button",{onClick:S,disabled:h,className:"px-4 py-2 bg-indigo-600 text-white rounded-md",children:h?r("loading")||"Loading...":r("ai.send")||"发送"})]})]})}const Re=()=>e.jsx(Te,{children:e.jsxs(xe,{children:[e.jsx(A,{path:"/",element:e.jsx(J,{to:"home",replace:!0})}),e.jsx(A,{path:"/home",element:e.jsx(Ae,{})}),e.jsx(A,{path:"/mail",element:e.jsx(He,{})}),e.jsx(A,{path:"/grades",element:e.jsx(ze,{})}),e.jsx(A,{path:"/jobs",element:e.jsx(Pe,{})}),e.jsx(A,{path:"/campus",element:e.jsx(Le,{})}),e.jsx(A,{path:"/calendar",element:e.jsx(Ee,{})}),e.jsx(A,{path:"/emergency",element:e.jsx(_e,{})}),e.jsx(A,{path:"/ai",element:e.jsx(qe,{})}),e.jsx(A,{path:"/settings",element:e.jsx(Ie,{})}),e.jsx(A,{path:"*",element:e.jsx(J,{to:"home",replace:!0})})]})});export{Re as default};
