<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/Student_app/graduation-cap.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- 暂时移除CSP以确保应用能正常运行 -->
  <!-- <meta http-equiv="Content-Security-Policy" content="..." /> -->
    <title>留学生家校通</title>
    <script type="module" crossorigin src="/Student_app/assets/index-qPFsLctY.js"></script>
    <link rel="stylesheet" crossorigin href="/Student_app/assets/index-Bk6cw5cD.css">
  </head>
  <body>
    <script type="text/javascript">
      // GitHub Pages SPA路由解决方案 - 处理从404页面传来的路径
      (function(l) {
        if (l.search[1] === '/' ) {
          var decoded = l.search.slice(1).split('&').map(function(s) { 
            return s.replace(/~and~/g, '&')
          }).join('?');
          window.history.replaceState(null, null,
              l.pathname.slice(0, -1) + decoded + l.hash
          );
        }
      }(window.location))
    </script>
    <div id="root"></div>
    <script>
      fetch('https://api.github.com/repos/azusa-dom/Student_app/actions/runs')
        .then(response => response.json())
        .then(data => {
          const { status, conclusion, created_at, head_commit } = data.workflow_runs[0];
          console.log({ status, conclusion, created_at, head_commit: head_commit.message });
        })
        .catch(error => console.error('无法获取GitHub Actions状态', error));
    </script>
    <script>
      // 检查网站响应状态
      fetch('https://azusa-dom.github.io/Student_app/')
        .then(response => {
          console.log('网站响应状态:', response.status);
        })
        .catch(error => console.error('无法检查网站响应状态', error));
    </script>
  </body>
</html>
